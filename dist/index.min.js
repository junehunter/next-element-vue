
/**
 * 作　　者：huangteng
 * 邮　　箱：htengweb@163.com
 * 当前版本：0.2.1 v
 * 发布日期：2024-04-01
 * 地　　址：https://www.npmjs.com/package/next-element-vue
 */

import{getCurrentInstance as e,inject as t,ref as l,computed as a,unref as n,isRef as o,defineComponent as r,createVNode as i,Fragment as s,openBlock as u,createElementBlock as c,createElementVNode as d,reactive as p,createTextVNode as f,resolveComponent as h,Teleport as m,isVNode as v,onUnmounted as g,provide as b,watch as y,markRaw as x,watchEffect as w,h as C,onMounted as S,toRaw as _,render as D,nextTick as k}from"vue";import{localeContextKey as j,ElMessage as z,ElTooltip as A,ElScrollbar as O,ElDivider as T,ElColorPicker as M,ElSwitch as E,ElDropdown as V,ElIcon as N,ElDropdownMenu as B,ElDropdownItem as L,ElDrawer as H,ElMenuItem as P,ElSubMenu as F,ElMenu as I,ElContainer as $,ElCol as R,ElFormItem as U,ElInput as W,ElSelect as Y,ElOption as q,ElDatePicker as K,ElInputNumber as G,ElForm as X,ElRow as Z,ElButton as J,ElTable as Q,ElTableColumn as ee,ElCheckbox as te,ElMessageBox as le,ElPagination as ae,ElDialog as ne,ElTag as oe,ElRadioGroup as re,ElRadio as ie,ElUpload as se,ElImageViewer as ue,ElImage as ce,ElTreeSelect as de,ElTimeSelect as pe,ElCheckboxGroup as fe,ElEmpty as he}from"element-plus";import{useDateFormat as me,useNow as ve,useFullscreen as ge}from"@vueuse/core";import*as be from"@tensorflow/tfjs";import ye from"video.js";import"video.js/dist/video-js.css";import xe from"video.js/dist/lang/zh-CN.json";import we from"video.js/dist/lang/en.json";import Ce from"video.js/dist/lang/zh-TW.json";const Se="next",_e=(e,t,l,a,n)=>{let o=`${e}-${t}`;return l&&(o+=`-${l}`),a&&(o+=`__${a}`),n&&(o+=`--${n}`),o},De=Symbol("namespaceContextKey"),ke=o=>{const r=o||(e()?t(De,l(Se)):l(Se));return a((()=>n(r)||Se))},je=(e,t)=>{const l=ke(t);return{namespace:l,b:(t="")=>_e(l.value,e,t,"",""),e:t=>t?_e(l.value,e,"",t,""):"",m:t=>t?_e(l.value,e,"","",t):"",be:(t,a)=>t&&a?_e(l.value,e,t,a,""):"",em:(t,a)=>t&&a?_e(l.value,e,"",t,a):"",bm:(t,a)=>t&&a?_e(l.value,e,t,"",a):"",bem:(t,a,n)=>t&&a&&n?_e(l.value,e,t,a,n):"",bf:(...t)=>{let a=`${l.value}-${e}`;for(const e in t){const l=t[e];l&&(a+="-"+l)}return a},is:(e,...t)=>{const l=!(t.length>=1)||t[0];return e&&l?`is-${e}`:""},cssVar:e=>{const t={};for(const a in e)e[a]&&(t[`--${l.value}-${a}`]=e[a]);return t},cssVarName:e=>`--${l.value}-${e}`,cssVarBlock:t=>{const a={};for(const n in t)t[n]&&(a[`--${l.value}-${e}-${n}`]=t[n]);return a},cssVarBlockName:t=>`--${l.value}-${e}-${t}`}};var ze="object"==typeof global&&global&&global.Object===Object&&global,Ae="object"==typeof self&&self&&self.Object===Object&&self,Oe=ze||Ae||Function("return this")(),Te=Oe.Symbol,Me=Object.prototype,Ee=Me.hasOwnProperty,Ve=Me.toString,Ne=Te?Te.toStringTag:void 0;var Be=Object.prototype.toString;var Le="[object Null]",He="[object Undefined]",Pe=Te?Te.toStringTag:void 0;function Fe(e){return null==e?void 0===e?He:Le:Pe&&Pe in Object(e)?function(e){var t=Ee.call(e,Ne),l=e[Ne];try{e[Ne]=void 0;var a=!0}catch(e){}var n=Ve.call(e);return a&&(t?e[Ne]=l:delete e[Ne]),n}(e):function(e){return Be.call(e)}(e)}function Ie(e){return null!=e&&"object"==typeof e}var $e="[object Symbol]";function Re(e){return"symbol"==typeof e||Ie(e)&&Fe(e)==$e}var Ue=Array.isArray,We=1/0,Ye=Te?Te.prototype:void 0,qe=Ye?Ye.toString:void 0;function Ke(e){if("string"==typeof e)return e;if(Ue(e))return function(e,t){for(var l=-1,a=null==e?0:e.length,n=Array(a);++l<a;)n[l]=t(e[l],l,e);return n}(e,Ke)+"";if(Re(e))return qe?qe.call(e):"";var t=e+"";return"0"==t&&1/e==-We?"-0":t}function Ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xe(e){return e}var Ze="[object AsyncFunction]",Je="[object Function]",Qe="[object GeneratorFunction]",et="[object Proxy]";function tt(e){if(!Ge(e))return!1;var t=Fe(e);return t==Je||t==Qe||t==Ze||t==et}var lt,at=Oe["__core-js_shared__"],nt=(lt=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"";var ot=Function.prototype.toString;function rt(e){if(null!=e){try{return ot.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var it=/^\[object .+?Constructor\]$/,st=Function.prototype,ut=Object.prototype,ct=st.toString,dt=ut.hasOwnProperty,pt=RegExp("^"+ct.call(dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ft(e){return!(!Ge(e)||(t=e,nt&&nt in t))&&(tt(e)?pt:it).test(rt(e));var t}function ht(e,t){var l=function(e,t){return null==e?void 0:e[t]}(e,t);return ft(l)?l:void 0}var mt=ht(Oe,"WeakMap"),vt=Object.create,gt=function(){function e(){}return function(t){if(!Ge(t))return{};if(vt)return vt(t);e.prototype=t;var l=new e;return e.prototype=void 0,l}}();var bt=Date.now;var yt,xt,wt,Ct=function(){try{var e=ht(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),St=Ct?function(e,t){return Ct(e,"toString",{configurable:!0,enumerable:!1,value:(l=t,function(){return l}),writable:!0});var l}:Xe,_t=(yt=St,xt=0,wt=0,function(){var e=bt(),t=16-(e-wt);if(wt=e,t>0){if(++xt>=800)return arguments[0]}else xt=0;return yt.apply(void 0,arguments)}),Dt=9007199254740991,kt=/^(?:0|[1-9]\d*)$/;function jt(e,t){var l=typeof e;return!!(t=null==t?Dt:t)&&("number"==l||"symbol"!=l&&kt.test(e))&&e>-1&&e%1==0&&e<t}function zt(e,t,l){"__proto__"==t&&Ct?Ct(e,t,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[t]=l}function At(e,t){return e===t||e!=e&&t!=t}var Ot=Object.prototype.hasOwnProperty;function Tt(e,t,l){var a=e[t];Ot.call(e,t)&&At(a,l)&&(void 0!==l||t in e)||zt(e,t,l)}var Mt=Math.max;function Et(e,t){return _t(function(e,t,l){return t=Mt(void 0===t?e.length-1:t,0),function(){for(var a=arguments,n=-1,o=Mt(a.length-t,0),r=Array(o);++n<o;)r[n]=a[t+n];n=-1;for(var i=Array(t+1);++n<t;)i[n]=a[n];return i[t]=l(r),function(e,t,l){switch(l.length){case 0:return e.call(t);case 1:return e.call(t,l[0]);case 2:return e.call(t,l[0],l[1]);case 3:return e.call(t,l[0],l[1],l[2])}return e.apply(t,l)}(e,this,i)}}(e,t,Xe),e+"")}var Vt=9007199254740991;function Nt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Vt}function Bt(e){return null!=e&&Nt(e.length)&&!tt(e)}function Lt(e){return Et((function(t,l){var a=-1,n=l.length,o=n>1?l[n-1]:void 0,r=n>2?l[2]:void 0;for(o=e.length>3&&"function"==typeof o?(n--,o):void 0,r&&function(e,t,l){if(!Ge(l))return!1;var a=typeof t;return!!("number"==a?Bt(l)&&jt(t,l.length):"string"==a&&t in l)&&At(l[t],e)}(l[0],l[1],r)&&(o=n<3?void 0:o,n=1),t=Object(t);++a<n;){var i=l[a];i&&e(t,i,a,o)}return t}))}var Ht=Object.prototype;function Pt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ht)}function Ft(e){return Ie(e)&&"[object Arguments]"==Fe(e)}var It=Object.prototype,$t=It.hasOwnProperty,Rt=It.propertyIsEnumerable,Ut=Ft(function(){return arguments}())?Ft:function(e){return Ie(e)&&$t.call(e,"callee")&&!Rt.call(e,"callee")};var Wt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Yt=Wt&&"object"==typeof module&&module&&!module.nodeType&&module,qt=Yt&&Yt.exports===Wt?Oe.Buffer:void 0,Kt=(qt?qt.isBuffer:void 0)||function(){return!1},Gt={};Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Arguments]"]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object Boolean]"]=Gt["[object DataView]"]=Gt["[object Date]"]=Gt["[object Error]"]=Gt["[object Function]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt["[object Object]"]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object WeakMap]"]=!1;var Xt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zt=Xt&&"object"==typeof module&&module&&!module.nodeType&&module,Jt=Zt&&Zt.exports===Xt&&ze.process,Qt=function(){try{var e=Zt&&Zt.require&&Zt.require("util").types;return e||Jt&&Jt.binding&&Jt.binding("util")}catch(e){}}(),el=Qt&&Qt.isTypedArray,tl=el?function(e){return function(t){return e(t)}}(el):function(e){return Ie(e)&&Nt(e.length)&&!!Gt[Fe(e)]},ll=Object.prototype.hasOwnProperty;function al(e,t){var l=Ue(e),a=!l&&Ut(e),n=!l&&!a&&Kt(e),o=!l&&!a&&!n&&tl(e),r=l||a||n||o,i=r?function(e,t){for(var l=-1,a=Array(e);++l<e;)a[l]=t(l);return a}(e.length,String):[],s=i.length;for(var u in e)!t&&!ll.call(e,u)||r&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||jt(u,s))||i.push(u);return i}function nl(e,t){return function(l){return e(t(l))}}var ol=nl(Object.keys,Object),rl=Object.prototype.hasOwnProperty;function il(e){return Bt(e)?al(e):function(e){if(!Pt(e))return ol(e);var t=[];for(var l in Object(e))rl.call(e,l)&&"constructor"!=l&&t.push(l);return t}(e)}var sl=Object.prototype.hasOwnProperty;function ul(e){if(!Ge(e))return function(e){var t=[];if(null!=e)for(var l in Object(e))t.push(l);return t}(e);var t=Pt(e),l=[];for(var a in e)("constructor"!=a||!t&&sl.call(e,a))&&l.push(a);return l}function cl(e){return Bt(e)?al(e,!0):ul(e)}var dl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pl=/^\w*$/;var fl=ht(Object,"create");var hl=Object.prototype.hasOwnProperty;var ml=Object.prototype.hasOwnProperty;function vl(e){var t=-1,l=null==e?0:e.length;for(this.clear();++t<l;){var a=e[t];this.set(a[0],a[1])}}function gl(e,t){for(var l=e.length;l--;)if(At(e[l][0],t))return l;return-1}vl.prototype.clear=function(){this.__data__=fl?fl(null):{},this.size=0},vl.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vl.prototype.get=function(e){var t=this.__data__;if(fl){var l=t[e];return"__lodash_hash_undefined__"===l?void 0:l}return hl.call(t,e)?t[e]:void 0},vl.prototype.has=function(e){var t=this.__data__;return fl?void 0!==t[e]:ml.call(t,e)},vl.prototype.set=function(e,t){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=fl&&void 0===t?"__lodash_hash_undefined__":t,this};var bl=Array.prototype.splice;function yl(e){var t=-1,l=null==e?0:e.length;for(this.clear();++t<l;){var a=e[t];this.set(a[0],a[1])}}yl.prototype.clear=function(){this.__data__=[],this.size=0},yl.prototype.delete=function(e){var t=this.__data__,l=gl(t,e);return!(l<0)&&(l==t.length-1?t.pop():bl.call(t,l,1),--this.size,!0)},yl.prototype.get=function(e){var t=this.__data__,l=gl(t,e);return l<0?void 0:t[l][1]},yl.prototype.has=function(e){return gl(this.__data__,e)>-1},yl.prototype.set=function(e,t){var l=this.__data__,a=gl(l,e);return a<0?(++this.size,l.push([e,t])):l[a][1]=t,this};var xl=ht(Oe,"Map");function wl(e,t){var l,a,n=e.__data__;return("string"==(a=typeof(l=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==l:null===l)?n["string"==typeof t?"string":"hash"]:n.map}function Cl(e){var t=-1,l=null==e?0:e.length;for(this.clear();++t<l;){var a=e[t];this.set(a[0],a[1])}}Cl.prototype.clear=function(){this.size=0,this.__data__={hash:new vl,map:new(xl||yl),string:new vl}},Cl.prototype.delete=function(e){var t=wl(this,e).delete(e);return this.size-=t?1:0,t},Cl.prototype.get=function(e){return wl(this,e).get(e)},Cl.prototype.has=function(e){return wl(this,e).has(e)},Cl.prototype.set=function(e,t){var l=wl(this,e),a=l.size;return l.set(e,t),this.size+=l.size==a?0:1,this};var Sl="Expected a function";function _l(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Sl);var l=function(){var a=arguments,n=t?t.apply(this,a):a[0],o=l.cache;if(o.has(n))return o.get(n);var r=e.apply(this,a);return l.cache=o.set(n,r)||o,r};return l.cache=new(_l.Cache||Cl),l}_l.Cache=Cl;var Dl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kl=/\\(\\)?/g,jl=function(e){var t=_l(e,(function(e){return 500===l.size&&l.clear(),e})),l=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Dl,(function(e,l,a,n){t.push(a?n.replace(kl,"$1"):l||e)})),t}));function zl(e,t){return Ue(e)?e:function(e,t){if(Ue(e))return!1;var l=typeof e;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=e&&!Re(e))||pl.test(e)||!dl.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:jl(function(e){return null==e?"":Ke(e)}(e))}var Al=1/0;function Ol(e){if("string"==typeof e||Re(e))return e;var t=e+"";return"0"==t&&1/e==-Al?"-0":t}function Tl(e,t,l){var a=null==e?void 0:function(e,t){for(var l=0,a=(t=zl(t,e)).length;null!=e&&l<a;)e=e[Ol(t[l++])];return l&&l==a?e:void 0}(e,t);return void 0===a?l:a}var Ml=nl(Object.getPrototypeOf,Object),El="[object Object]",Vl=Function.prototype,Nl=Object.prototype,Bl=Vl.toString,Ll=Nl.hasOwnProperty,Hl=Bl.call(Object);function Pl(e){var t=this.__data__=new yl(e);this.size=t.size}Pl.prototype.clear=function(){this.__data__=new yl,this.size=0},Pl.prototype.delete=function(e){var t=this.__data__,l=t.delete(e);return this.size=t.size,l},Pl.prototype.get=function(e){return this.__data__.get(e)},Pl.prototype.has=function(e){return this.__data__.has(e)},Pl.prototype.set=function(e,t){var l=this.__data__;if(l instanceof yl){var a=l.__data__;if(!xl||a.length<199)return a.push([e,t]),this.size=++l.size,this;l=this.__data__=new Cl(a)}return l.set(e,t),this.size=l.size,this};var Fl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Il=Fl&&"object"==typeof module&&module&&!module.nodeType&&module,$l=Il&&Il.exports===Fl?Oe.Buffer:void 0,Rl=$l?$l.allocUnsafe:void 0;var Ul=Object.prototype.propertyIsEnumerable,Wl=Object.getOwnPropertySymbols,Yl=Wl?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var l=-1,a=null==e?0:e.length,n=0,o=[];++l<a;){var r=e[l];t(r,l,e)&&(o[n++]=r)}return o}(Wl(e),(function(t){return Ul.call(e,t)})))}:function(){return[]},ql=Yl;function Kl(e){return function(e,t,l){var a=t(e);return Ue(e)?a:function(e,t){for(var l=-1,a=t.length,n=e.length;++l<a;)e[n+l]=t[l];return e}(a,l(e))}(e,il,ql)}var Gl=ht(Oe,"DataView"),Xl=ht(Oe,"Promise"),Zl=ht(Oe,"Set"),Jl="[object Map]",Ql="[object Promise]",ea="[object Set]",ta="[object WeakMap]",la="[object DataView]",aa=rt(Gl),na=rt(xl),oa=rt(Xl),ra=rt(Zl),ia=rt(mt),sa=Fe;(Gl&&sa(new Gl(new ArrayBuffer(1)))!=la||xl&&sa(new xl)!=Jl||Xl&&sa(Xl.resolve())!=Ql||Zl&&sa(new Zl)!=ea||mt&&sa(new mt)!=ta)&&(sa=function(e){var t=Fe(e),l="[object Object]"==t?e.constructor:void 0,a=l?rt(l):"";if(a)switch(a){case aa:return la;case na:return Jl;case oa:return Ql;case ra:return ea;case ia:return ta}return t});var ua=sa,ca=Oe.Uint8Array;function da(e,t){var l,a,n=t?(l=e.buffer,a=new l.constructor(l.byteLength),new ca(a).set(new ca(l)),a):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pa(e){var t=-1,l=null==e?0:e.length;for(this.__data__=new Cl;++t<l;)this.add(e[t])}function fa(e,t){for(var l=-1,a=null==e?0:e.length;++l<a;)if(t(e[l],l,e))return!0;return!1}pa.prototype.add=pa.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},pa.prototype.has=function(e){return this.__data__.has(e)};var ha=1,ma=2;function va(e,t,l,a,n,o){var r=l&ha,i=e.length,s=t.length;if(i!=s&&!(r&&s>i))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=l&ma?new pa:void 0;for(o.set(e,t),o.set(t,e);++d<i;){var h=e[d],m=t[d];if(a)var v=r?a(m,h,d,t,e,o):a(h,m,d,e,t,o);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!fa(t,(function(e,t){if(r=t,!f.has(r)&&(h===e||n(h,e,l,a,o)))return f.push(t);var r}))){p=!1;break}}else if(h!==m&&!n(h,m,l,a,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ga(e){var t=-1,l=Array(e.size);return e.forEach((function(e,a){l[++t]=[a,e]})),l}function ba(e){var t=-1,l=Array(e.size);return e.forEach((function(e){l[++t]=e})),l}var ya=1,xa=2,wa="[object Boolean]",Ca="[object Date]",Sa="[object Error]",_a="[object Map]",Da="[object Number]",ka="[object RegExp]",ja="[object Set]",za="[object String]",Aa="[object Symbol]",Oa="[object ArrayBuffer]",Ta="[object DataView]",Ma=Te?Te.prototype:void 0,Ea=Ma?Ma.valueOf:void 0;var Va=1,Na=Object.prototype.hasOwnProperty;var Ba=1,La="[object Arguments]",Ha="[object Array]",Pa="[object Object]",Fa=Object.prototype.hasOwnProperty;function Ia(e,t,l,a,n,o){var r=Ue(e),i=Ue(t),s=r?Ha:ua(e),u=i?Ha:ua(t),c=(s=s==La?Pa:s)==Pa,d=(u=u==La?Pa:u)==Pa,p=s==u;if(p&&Kt(e)){if(!Kt(t))return!1;r=!0,c=!1}if(p&&!c)return o||(o=new Pl),r||tl(e)?va(e,t,l,a,n,o):function(e,t,l,a,n,o,r){switch(l){case Ta:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Oa:return!(e.byteLength!=t.byteLength||!o(new ca(e),new ca(t)));case wa:case Ca:case Da:return At(+e,+t);case Sa:return e.name==t.name&&e.message==t.message;case ka:case za:return e==t+"";case _a:var i=ga;case ja:var s=a&ya;if(i||(i=ba),e.size!=t.size&&!s)return!1;var u=r.get(e);if(u)return u==t;a|=xa,r.set(e,t);var c=va(i(e),i(t),a,n,o,r);return r.delete(e),c;case Aa:if(Ea)return Ea.call(e)==Ea.call(t)}return!1}(e,t,s,l,a,n,o);if(!(l&Ba)){var f=c&&Fa.call(e,"__wrapped__"),h=d&&Fa.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,v=h?t.value():t;return o||(o=new Pl),n(m,v,l,a,o)}}return!!p&&(o||(o=new Pl),function(e,t,l,a,n,o){var r=l&Va,i=Kl(e),s=i.length;if(s!=Kl(t).length&&!r)return!1;for(var u=s;u--;){var c=i[u];if(!(r?c in t:Na.call(t,c)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var f=!0;o.set(e,t),o.set(t,e);for(var h=r;++u<s;){var m=e[c=i[u]],v=t[c];if(a)var g=r?a(v,m,c,t,e,o):a(m,v,c,e,t,o);if(!(void 0===g?m===v||n(m,v,l,a,o):g)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,l,a,n,o))}function $a(e,t,l,a,n){return e===t||(null==e||null==t||!Ie(e)&&!Ie(t)?e!=e&&t!=t:Ia(e,t,l,a,$a,n))}var Ra,Ua=function(e,t,l){for(var a=-1,n=Object(e),o=l(e),r=o.length;r--;){var i=o[Ra?r:++a];if(!1===t(n[i],i,n))break}return e};function Wa(e,t,l){(void 0!==l&&!At(e[t],l)||void 0===l&&!(t in e))&&zt(e,t,l)}function Ya(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function qa(e){return function(e,t,l,a){var n=!l;l||(l={});for(var o=-1,r=t.length;++o<r;){var i=t[o],s=a?a(l[i],e[i],i,l,e):void 0;void 0===s&&(s=e[i]),n?zt(l,i,s):Tt(l,i,s)}return l}(e,cl(e))}function Ka(e,t,l,a,n,o,r){var i=Ya(e,l),s=Ya(t,l),u=r.get(s);if(u)Wa(e,l,u);else{var c,d=o?o(i,s,l+"",e,t,r):void 0,p=void 0===d;if(p){var f=Ue(s),h=!f&&Kt(s),m=!f&&!h&&tl(s);d=s,f||h||m?Ue(i)?d=i:Ie(c=i)&&Bt(c)?d=function(e,t){var l=-1,a=e.length;for(t||(t=Array(a));++l<a;)t[l]=e[l];return t}(i):h?(p=!1,d=function(e,t){if(t)return e.slice();var l=e.length,a=Rl?Rl(l):new e.constructor(l);return e.copy(a),a}(s,!0)):m?(p=!1,d=da(s,!0)):d=[]:function(e){if(!Ie(e)||Fe(e)!=El)return!1;var t=Ml(e);if(null===t)return!0;var l=Ll.call(t,"constructor")&&t.constructor;return"function"==typeof l&&l instanceof l&&Bl.call(l)==Hl}(s)||Ut(s)?(d=i,Ut(i)?d=qa(i):Ge(i)&&!tt(i)||(d=function(e){return"function"!=typeof e.constructor||Pt(e)?{}:gt(Ml(e))}(s))):p=!1}p&&(r.set(s,d),n(d,s,a,o,r),r.delete(s)),Wa(e,l,d)}}function Ga(e,t,l,a,n){e!==t&&Ua(t,(function(o,r){if(n||(n=new Pl),Ge(o))Ka(e,t,r,l,Ga,a,n);else{var i=a?a(Ya(e,r),o,r+"",e,t,n):void 0;void 0===i&&(i=o),Wa(e,r,i)}}),cl)}var Xa=Lt((function(e,t,l,a){Ga(e,t,l,a)}));var Za=Lt((function(e,t,l){Ga(e,t,l)})),Ja=Za,Qa={name:"zh-cn",next:{loading:"加载中...",table:{search:"查询",clear:"清空",add:"新增",delete:"删除",batchDelete:"批量删除",export:"导出",edit:"编辑",view:"查看",unfoldSearch:"展开搜索",foldSearch:"收起搜索",notData:"暂无数据",operation:"操作",selection:"选择",selectionAll:"全选",setting:{title:"设置列",label:"列名",hide:"隐藏",filter:"筛选",sort:"排序"},message:{tip:"提示",batchDeleteTip:"您确定要批量删除吗?",cancelBatchDelete:"取消批量删除操作",deleteTip:"您确定要删除该数据吗?",cancelDelete:"取消删除操作",confirmButtonText:"确 定",cancelButtonText:"取 消"}},form:{input:"请输入",select:"请选择",requiredInput:" 必填",requiredSelect:" 必选",submit:"提 交",cancel:"取 消",reset:"重 置",confirm:"确 定",tableSelect:" 选择",selectFile:"选择文件"},date:{oneWeekAge:"一周以前",oneMonthAge:"一个月以前",threeMonthsAge:"三个月以前",oneYearAge:"一年以前",threeYearsAge:"三年以前",rangeSeparator:"至",startPlaceholder:"开始时间",endPlaceholder:"结束时间"},layout:{home:"首页",personal:"个人中心",logOut:"退出登录",tabsOther:"关闭其他",tabsLeft:"关闭左侧",tabsRight:"关闭右侧",tabsAll:"关闭全部",systemSetting:"系统配置"}}},en={name:"en",next:{loading:"loading...",table:{search:"search",clear:"clear",add:"add",delete:"del",batchDelete:"batch delete",export:"export",edit:"edit",view:"view",unfoldSearch:"unfold search",foldSearch:"fold search",notData:"not data",operation:"operations",selection:"selection",selectionAll:"select all",setting:{title:"column setting",label:"column name",hide:"hide",filter:"filter",sort:"srot"},message:{tip:"tip",batchDeleteTip:"Are you sure you want to delete them in bulk ?",cancelBatchDelete:"Cancel batch deletion",deleteTip:"Are you sure you want to delete this data ?",cancelDelete:"Cancel delete",confirmButtonText:"OK",cancelButtonText:"Cancel"}},form:{input:"please input ",select:"please select ",requiredInput:" required",requiredSelect:" required",submit:"Submit",cancel:"Cancel",reset:"reset",confirm:"confirm",tableSelect:" select",selectFile:"select file"},date:{oneWeekAge:"one week age",oneMonthAge:"one month age",threeMonthsAge:"three months age",oneYearAge:"one year age",threeYearsAge:"three years age",rangeSeparator:"to",startPlaceholder:"start time",endPlaceholder:"end time"},layout:{home:"Home",personal:"Personal",logOut:"LogOut",tabsOther:"close other",tabsLeft:"close left",tabsRight:"close right",tabsAll:"close all",systemSetting:"system setting"}}},tn={name:"zh-tw",next:{loading:"加載中...",table:{search:"查詢",clear:"清空",add:"新增",delete:"刪除",batchDelete:"批量刪除",export:"導出",edit:"編輯",view:"查看",unfoldSearch:"展開搜索",foldSearch:"收起搜索",notData:"暫無數據",operation:"操作",selection:"选择",selectionAll:"全选",setting:{title:"設置列",label:"列名",hide:"隱藏",filter:"篩選",sort:"排序"},message:{tip:"提示",batchDeleteTip:"您確定要批量刪除嗎?",cancelBatchDelete:"取消批量刪除操作",deleteTip:"您确定要删除该数据吗?",cancelDelete:"取消删除操作",confirmButtonText:"確 定",cancelButtonText:"取 消"}},form:{input:"請輸入",select:"請選擇",requiredInput:" 必填",requiredSelect:" 必選",submit:"提 交",cancel:"取 消",reset:"重 置",confirm:"确 定",tableSelect:" 選擇",selectFile:"選擇文件"},date:{oneWeekAge:"一周以前",oneMonthAge:"一个月以前",threeMonthsAge:"三个月以前",oneYearAge:"一年以前",threeYearsAge:"三年以前",rangeSeparator:"至",startPlaceholder:"開始時間",endPlaceholder:"結束時間"},layout:{home:"首頁",personal:"個人中心",logOut:"退出登錄",tabsOther:"關閉其他",tabsLeft:"關閉左側",tabsRight:"關閉右側",tabsAll:"關閉全部",systemSetting:"系統配置"}}};const ln={[Qa.name]:{...Qa},[en.name]:{...en},[tn.name]:{...tn}},an=(e,t,l)=>Tl(l,e,e)?.replace(/\{(\w+)\}/g,((e,l)=>`${t?.[l]??`{${l}}`}`)),nn=e=>(t,l)=>an(t,l,n(e)),on=e=>{const t=a((()=>n(e).name)),r=o(e)?e:l(e),i=ln[t.value]||ln["zh-cn"];return r.value.next=i.next,{lang:t,locale:r,t:nn(e)}},rn=j,sn=e=>{const n=e||t(rn,l());return on(a((()=>n?.value||Qa)))},un=(e,t)=>{const a=o(e)?e:l(e),n=ln[t]||ln["zh-cn"];a.value.name=t,a.value.next=n.next};function cn(){return{hexToRgb:e=>{let t="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(e))return z.warning("输入错误的hex"),"";t=(e=e.replace("#","")).match(/../g);for(let e=0;e<3;e++)t[e]=parseInt(t[e],16);return t},rgbToHex:(e,t,l)=>{let a=/^\d{1,3}$/;if(!a.test(e)||!a.test(t)||!a.test(l))return z.warning("输入错误的rgb颜色值"),"";let n=[e.toString(16),t.toString(16),l.toString(16)];for(let e=0;e<3;e++)1==n[e].length&&(n[e]=`0${n[e]}`);return`#${n.join("")}`},getDarkColor:(e,t)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(e))return z.warning("输入错误的hex颜色值"),"";let l=cn().hexToRgb(e);for(let e=0;e<3;e++)l[e]=Math.floor(l[e]*(1-t));return cn().rgbToHex(l[0],l[1],l[2])},getLightColor:(e,t)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(e))return z.warning("输入错误的hex颜色值"),"";let l=cn().hexToRgb(e);for(let e=0;e<3;e++)l[e]=Math.floor((255-l[e])*t+l[e]);return cn().rgbToHex(l[0],l[1],l[2])}}}const{getLightColor:dn}=cn(),pn=(e,t)=>{document.documentElement.style.setProperty(e,t)},fn=(e,t)=>{pn(e,t);for(let l=1;l<10;l++)pn(e+"-light-"+l,dn(t,l/10));pn(`${e}-dark-2`,t)},hn=e=>{e&&fn("--el-color-primary",e)},mn={themeColor:"--el-color-primary",headerBarColor:"--next-layout-bg-color",headerBarFontColor:"--next-layout-font-color"},vn=e=>{for(const t in mn){const l=mn[t];e[t]&&fn(l,e[t])}const t=document.documentElement;e.isDark?t.setAttribute("data-theme","dark"):t.setAttribute("data-theme","")},gn=async(e,t,l,a,n,o=[],r,i)=>{const{videoWidth:s,videoHeight:u}=e;if(!s||!u)return;let[c,d]=t.inputs[0].shape.slice(1,3),p=a.tidy((()=>a.image.resizeBilinear(a.browser.fromPixels(e),[c,d]).div(255).expandDims(0)));l.clearRect(0,0,s,u),r.clearRect(0,0,s,u),await t.executeAsync(p).then((async t=>{let[c,d,f,h]=t;for(let t=0;t<h.dataSync()[0];++t){let[a,p,h,m]=c.dataSync().slice(4*t,4*(t+1));a=a<0||a>1?parseInt(a):a,h=h<0||h>1?parseInt(h):h,p=p<0||p>1?parseInt(p):p,m=m<0||m>1?parseInt(m):m,a=Math.round(Math.abs(a)*s),h=Math.round(Math.abs(h)*s),p=Math.round(Math.abs(p)*u),m=Math.round(Math.abs(m)*u);const v=h-a,g=m-p,b=a,y=p;let x=f.dataSync()[t],w=d.dataSync()[t].toFixed(2);const C=(e,t,l)=>{const a=`#${(1<<24|Math.floor(256*Math.random())<<16|Math.floor(256*Math.random())<<8|Math.floor(256*Math.random())).toString(16).slice(1)}`;l.strokeStyle=a,l.lineWidth=2,l.beginPath(),l.rect(b,y,v,g),l.stroke(),l.font="bold 16px Arial",l.fillStyle=a,l.fillText(`${e} ${t}`,b+10,y<20?20:y-10)};if(o?.length)for(let t=0;t<o.length;t++){const a=o[t];if(a.cls==x&&Number(w)>a.score){const t=n.find((e=>e.value==x));if(t){const a=t.label;C(a,w,await bn(e,r)),C(a,w,l),i&&i(a,w)}}}else if(w>.5){const e=n.find((e=>e.value==x));if(e){C(e.label||"",w,l)}}}p.dispose(),a.dispose(t)}))},bn=(e,t)=>{const l=e.videoWidth,a=e.videoHeight,n=l/a,o=l/a,r=l,i=a;let s,u,c,d;return n>o?(c=l,d=l/n,s=0,u=Math.round((a-d)/2)):n===o?(c=l,d=a,s=0,u=0):n<o&&(c=a*n,d=a,s=Math.round((l-c)/2),u=0),t.drawImage(e,0,0,r,i,s,u,c,d),t},yn=()=>({detectVideoFrameImage:({container:e,video:t,modelUrl:l,classNames:a,classInput:n=[]},o,r)=>l?a?void be.loadGraphModel(l).then((l=>{const r=document.createElement("canvas"),i=r.getContext("2d");r.style.position="absolute",r.style.zIndex="99",r.style.pointerEvents="none",e&&e.appendChild(r);const s=document.createElement("canvas"),u=s.getContext("2d");t.ontimeupdate=e=>{const{clientWidth:c,clientHeight:d}=e.target,{videoWidth:p,videoHeight:f,offsetTop:h,offsetLeft:m}=t;r.width=p,r.height=f,r.style.top=h+"px",r.style.left=m+"px",r.style.width=c+"px",r.style.height=d+"px",s.width=p,s.height=f,s.style.width=c+"px",s.style.height=d+"px",gn(t,l,i,be,a,n,u,((e,t)=>{const l="image/png";let a=r.toDataURL(l,.92).replace(l,"image/octet-stream");a=a.replace(/^data:image\/[^;]+/,"data:application/octet-stream");const n=s.toDataURL(l,.92);o&&o({name:e,score:t,detectImage:n,detectCanvas:s},{canvas:r,imageDataURL:a})}))}})):(r&&r("模型类别不能未空"),!1):(r&&r("模型文件地址不能为空"),!1)}),xn=(e,t)=>{if(e.install=l=>{for(const a of[e,...Object.values(t??{})])l.component(a.name,a)},t)for(const[l,a]of Object.entries(t))e[l]=a;return e},wn="header-menu",Cn="header-tools-prefix",Sn="header-tools-suffix";var _n={logo:"",title:"Next Element Vue",userName:"Admin",language:"zh-cn",languageDropdown:[{value:"zh-cn",label:"简体中文"},{value:"en",label:"English"},{value:"zh-tw",label:"繁體中文"}],userDropdown:[{value:"/",label:"next.layout.home"},{value:"/personal",label:"next.layout.personal"},{value:"logOut",label:"next.layout.logOut",divided:!0}],showTabs:!0,activeTab:"/",tabs:[],menuTree:[],menuRouter:!0,menuMode:"horizontal",setting:{layout:"transverse",themeColor:"#c71585",headerBarColor:"#282c34",headerBarFontColor:"#FFFFFF",isHeaderBarColorGradual:!1,asidebarColor:"#282c34",asidebarFontColor:"#ffffff",isAsidebarColorGradual:!1,isDark:!1}};const Dn=je("text-ellipsis");const kn=xn(r({name:"NextTextEllipsis",props:{content:{type:String,default:""},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},placement:{type:String,default:"top"},textAlign:{type:String,default:"left"},class:{type:String,default:""}},setup(e,{slots:t}){const n=l(!1),o=a((()=>{const t=e.width;let l={textAlign:e.textAlign};return t&&("string"==typeof t?l.width=t:"number"==typeof t&&(l.width=t+"px")),l})),r=l(),u=()=>{try{const e=r.value;e&&e.scrollWidth&&e.scrollWidth>e.offsetWidth?n.value=!0:n.value=!1}catch(e){n.value=!1}};return()=>i(s,null,[i("div",{class:[Dn.b(),e.class],style:o.value,onMouseenter:u},[n.value?i(A,{effect:"dark",content:e.content,placement:e.placement,disabled:e.disabled},{default:()=>[i("span",{class:Dn.e("text"),ref:r},[t.default?t.default():e.content])]}):i("span",{class:Dn.e("text"),ref:r},[t.default?t.default():e.content])])])}}));var jn=r({setup(){const e=t("__ns__",{}),l=t("options",{}),{t:a}=sn();return()=>i(s,null,[i("div",{class:e.bf("header","logo")},[l.logo&&i("img",{class:e.be("header-logo","img"),src:l.logo,alt:"logo"},null),l.title&&i("p",{class:e.be("header-logo","title")},[i(kn,{content:a(l.title)},null)])])])}}),zn=(e,t)=>{let l=e.__vccOpts||e;for(let[e,a]of t)l[e]=a;return l},An={name:"ArrowDown"},On={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tn=[d("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1)];var Mn=zn(An,[["render",function(e,t,l,a,n,o){return u(),c("svg",On,Tn)}],["__file","arrow-down.vue"]]),En={name:"ArrowUp"},Vn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Nn=[d("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1)];var Bn=zn(En,[["render",function(e,t,l,a,n,o){return u(),c("svg",Vn,Nn)}],["__file","arrow-up.vue"]]),Ln={name:"Back"},Hn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Pn=[d("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),d("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1)];var Fn=zn(Ln,[["render",function(e,t,l,a,n,o){return u(),c("svg",Hn,Pn)}],["__file","back.vue"]]),In={name:"Camera"},$n={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Rn=[d("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1)];var Un=zn(In,[["render",function(e,t,l,a,n,o){return u(),c("svg",$n,Rn)}],["__file","camera.vue"]]),Wn={name:"Close"},Yn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qn=[d("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1)];var Kn=zn(Wn,[["render",function(e,t,l,a,n,o){return u(),c("svg",Yn,qn)}],["__file","close.vue"]]),Gn={name:"DArrowLeft"},Xn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zn=[d("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1)];var Jn=zn(Gn,[["render",function(e,t,l,a,n,o){return u(),c("svg",Xn,Zn)}],["__file","d-arrow-left.vue"]]),Qn={name:"DArrowRight"},eo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},to=[d("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1)];var lo=zn(Qn,[["render",function(e,t,l,a,n,o){return u(),c("svg",eo,to)}],["__file","d-arrow-right.vue"]]),ao={name:"Delete"},no={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oo=[d("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1)];var ro=zn(ao,[["render",function(e,t,l,a,n,o){return u(),c("svg",no,oo)}],["__file","delete.vue"]]),io={name:"EditPen"},so={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uo=[d("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z"},null,-1)];var co=zn(io,[["render",function(e,t,l,a,n,o){return u(),c("svg",so,uo)}],["__file","edit-pen.vue"]]),po={name:"FullScreen"},fo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ho=[d("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1)];var mo=zn(po,[["render",function(e,t,l,a,n,o){return u(),c("svg",fo,ho)}],["__file","full-screen.vue"]]),vo={name:"InfoFilled"},go={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bo=[d("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1)];var yo=zn(vo,[["render",function(e,t,l,a,n,o){return u(),c("svg",go,bo)}],["__file","info-filled.vue"]]),xo={name:"MoonNight"},wo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Co=[d("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512zM171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"},null,-1),d("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"},null,-1)];var So=zn(xo,[["render",function(e,t,l,a,n,o){return u(),c("svg",wo,Co)}],["__file","moon-night.vue"]]),_o={name:"Picture"},Do={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ko=[d("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),d("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1)];var jo=zn(_o,[["render",function(e,t,l,a,n,o){return u(),c("svg",Do,ko)}],["__file","picture.vue"]]),zo={name:"Plus"},Ao={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oo=[d("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1)];var To=zn(zo,[["render",function(e,t,l,a,n,o){return u(),c("svg",Ao,Oo)}],["__file","plus.vue"]]),Mo={name:"Refresh"},Eo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vo=[d("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1)];var No=zn(Mo,[["render",function(e,t,l,a,n,o){return u(),c("svg",Eo,Vo)}],["__file","refresh.vue"]]),Bo={name:"Right"},Lo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ho=[d("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1)];var Po=zn(Bo,[["render",function(e,t,l,a,n,o){return u(),c("svg",Lo,Ho)}],["__file","right.vue"]]),Fo={name:"Search"},Io={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$o=[d("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1)];var Ro=zn(Fo,[["render",function(e,t,l,a,n,o){return u(),c("svg",Io,$o)}],["__file","search.vue"]]),Uo={name:"Setting"},Wo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Yo=[d("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1)];var qo=zn(Uo,[["render",function(e,t,l,a,n,o){return u(),c("svg",Wo,Yo)}],["__file","setting.vue"]]),Ko={name:"Sunny"},Go={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xo=[d("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32zM195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248zM64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32zm768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32zM195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0z"},null,-1)];var Zo=zn(Ko,[["render",function(e,t,l,a,n,o){return u(),c("svg",Go,Xo)}],["__file","sunny.vue"]]),Jo={name:"Tools"},Qo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},er=[d("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1)];var tr=zn(Jo,[["render",function(e,t,l,a,n,o){return u(),c("svg",Qo,er)}],["__file","tools.vue"]]),lr={name:"View"},ar={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nr=[d("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1)];var or=zn(lr,[["render",function(e,t,l,a,n,o){return u(),c("svg",ar,nr)}],["__file","view.vue"]]),rr=r({setup(){},render(){const e=t("__slots__",{}),l=t("__ns__",{}),a=t("options",{}),n=t("updateOptions",null),o=p({...a.setting}),r=()=>{const e={...a,setting:{...o}};n(e)},s=e=>{if(!e)return z({type:"warning",message:"主题颜色不能为空"}),!1;o.themeColor=e,fn("--el-color-primary",e),r()},u=()=>{const e=document.documentElement;o.isDark?e.setAttribute("data-theme","dark"):e.setAttribute("data-theme",""),r()},c=(e,t,l)=>{o[t]=e,pn(l,e),r()},d=[{type:"defaults",text:"默认"},{type:"classic",text:"经典"},{type:"transverse",text:"横向"},{type:"columns",text:"分栏"}];return i(O,null,{default:()=>[i(T,{"border-style":"dashed"},{default:()=>[f("全局主题")]}),i("div",{class:l.b("config-bar-item")},[i("span",{class:l.be("config-bar-item","label")},[f("主题颜色")]),i("div",{class:l.be("config-bar-item","value")},[i(M,{modelValue:o.themeColor,"onUpdate:modelValue":e=>o.themeColor=e,predefine:["#409eff","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#FB07A0"],onChange:s},null)])]),i("div",{class:l.b("config-bar-item")},[i("span",{class:l.be("config-bar-item","label")},[f("暗黑模式")]),i("div",{class:l.be("config-bar-item","value")},[i(E,{modelValue:o.isDark,"onUpdate:modelValue":e=>o.isDark=e,"inline-prompt":!0,size:"large","active-icon":So,"inactive-icon":Zo,"active-color":"#1f1f1f","inactive-color":"#dcdfe6",onChange:u},null)])]),i("div",{class:l.b("config-bar-item")},[i("span",{class:l.be("config-bar-item","label")},[f("顶栏背景颜色")]),i("div",{class:l.be("config-bar-item","value")},[i(M,{modelValue:o.headerBarColor,"onUpdate:modelValue":e=>o.headerBarColor=e,predefine:["#282c34","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#FB07A0"],onChange:e=>c(e,"headerBarColor","--next-layout-bg-color")},null)])]),i("div",{class:l.b("config-bar-item")},[i("span",{class:l.be("config-bar-item","label")},[f("顶栏字体颜色")]),i("div",{class:l.be("config-bar-item","value")},[i(M,{modelValue:o.headerBarFontColor,"onUpdate:modelValue":e=>o.headerBarFontColor=e,predefine:["#282c34","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#FB07A0"],onChange:e=>c(e,"headerBarFontColor","--next-layout-font-color")},null)])]),i("div",{class:l.b("config-bar-item")},[i("span",{class:l.be("config-bar-item","label")},[f("顶栏背景渐变")]),i("div",{class:l.be("config-bar-item","value")},[i(h("el-switch"),{modelValue:o.isHeaderBarColorGradual,"onUpdate:modelValue":e=>o.isHeaderBarColorGradual=e,onChange:r},null)])]),i(T,{"border-style":"dashed"},{default:()=>[f("布局方式")]}),i("ul",{class:l.b("config-bar-layout")},[d.map((e=>i("li",{class:[l.be("config-bar-layout",e.type),l.is("active",o.layout===e.type)],onClick:t=>((e,t)=>{e.stopPropagation(),o.layout=t.type,r()})(t,e)},[i("div",{class:"layout-wrap"},[i("div",{class:"layout-box"},[i("p",{class:"layout-text"},[e.text])])]),i("aside",null,null)])))]),i("div",{class:l.b("config-bar-item"),style:{"margin-top":"20px"}},[i("span",{class:l.be("config-bar-item","label")},[f("是否显示标签栏")]),i("div",{class:l.be("config-bar-item","value")},[i(h("el-switch"),{modelValue:a.showTabs,"onUpdate:modelValue":e=>a.showTabs=e},null)])]),e.setting?.()]})}});function ir(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)}var sr=r({setup(){const e=t(rn,l()),n=t("options",{}),{t:o}=sn(),{toggle:r,isFullscreen:i}=ge(),s=l(a((()=>n.language)).value),u=l(!1);return{locale:e,config:n,t:o,toggle:r,isFullscreen:i,language:s,settingDrawer:u}},render(){const e=t("__ns__",{}),l=this.config,a=t("__emit__",{}),n=this.$slots,o=this.t,r=this.isFullscreen,u=l.profile,c=l.userDropdown,d=l.languageDropdown,p=()=>{this.settingDrawer=!1};return i(s,null,[i("ul",{class:e.b("header-tools")},[n[Cn]?.(),i("li",null,[i(V,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:e=>{this.language=e,a("changeLanguage",e),l.onChangeLanguage&&l.onChangeLanguage(e)}},{default:()=>i("div",null,[i(N,{size:16},{default:()=>[i("svg",{class:"icon",viewBox:"0 0 1070 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1855",width:"128",height:"128"},[i("path",{d:"M232.58156522 358.13286957C244.86956522 394.4626087 265.17147826 425.984 293.48730435 453.76556522c24.04173913-26.17878261 42.2066087-58.23443478 53.96034782-95.63269565H232.58156522z","p-id":"1856"},null),i("path",{d:"M981.61530435 143.36h-448.77913044L507.19165217 6.05495652h-416.72347826c-45.94643478 0-83.34469565 37.39826087-83.34469565 83.34469565v708.42991305c0 45.94643478 37.39826087 83.34469565 83.34469565 83.34469565h379.85947826l-30.45286956 137.30504348h541.74052174c45.94643478 0 83.34469565-37.39826087 83.34469565-83.34469565V226.70469565c0-45.94643478-37.39826087-83.34469565-83.34469565-83.34469565zM415.83304348 564.35756522c-49.152-18.16486957-89.75582609-41.13808696-122.34573913-67.85113044-34.19269565 30.45286957-76.93356522 52.89182609-126.61982609 66.7826087l-17.09634783-28.31582609c48.61773913-12.82226087 89.22156522-32.05565217 121.2772174-59.30295652-33.12417391-33.65843478-56.0973913-72.65947826-68.91965218-117.00313044h-46.48069565v-32.05565217H276.92521739c-7.47965217-13.89078261-17.09634783-27.24730435-28.31582609-40.06956522l32.05565218-11.75373913c11.21947826 14.42504348 21.37043478 31.5213913 30.45286956 51.28904348h115.9346087v32.05565218h-46.48069565c-14.95930435 45.94643478-36.32973913 84.41321739-64.64556522 115.40034782 31.5213913 25.11026087 71.05669565 45.94643478 117.5373913 63.04278261l-17.63060869 27.78156522z m607.45460869 370.24278261c0 22.97321739-18.69913043 41.67234783-41.67234782 41.67234782H492.23234783l20.83617391-95.63269565h156.53843478l-89.22156522-497.39686957-0.53426087 2.67130435-3.73982608-19.76765217 1.06852174 0.53426087-32.58991305-181.64869565H982.14956522c22.97321739 0 41.67234783 18.69913043 41.67234782 41.67234782v707.89565218z","p-id":"1857"},null),i("path",{d:"M684.56626087 541.38434783h114.86608696v-30.45286957h-114.86608696V450.02573913h122.34573913v-30.45286956h-158.14121739v219.04695652h162.94956522V608.16695652h-127.15408696v-66.78260869z m239.88313043-65.71408696c-9.61669565 0-18.16486957 1.60278261-26.1787826 5.87686956-7.47965217 3.73982609-14.95930435 9.61669565-20.83617392 17.09634783V479.94434783h-34.72695652v158.67547826h34.72695652v-95.63269566c1.06852174-12.82226087 5.3426087-22.43895652 12.82226087-29.38434782 6.41113043-5.87686957 13.89078261-9.08243478 22.43895652-9.08243478 24.04173913 0 35.79547826 12.82226087 35.79547826 39.00104347v94.56417392h34.72695653v-97.76973913c1.06852174-43.27513043-19.2333913-64.64556522-58.76869566-64.64556522z","p-id":"1858"},null)])]})]),dropdown:()=>{let e;return i(B,null,ir(e=d.map((e=>i(L,{command:e.value,disabled:this.language===e.value},{default:()=>[e.label]}))))?e:{default:()=>[e]})}})]),i("li",null,[i("span",{style:{display:"inline-block",lineHeight:1},onClick:this.toggle},[i(N,{size:16},{default:()=>[r?i("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2676",width:"128",height:"128"},[i("path",{d:"M749.248 704H864a32 32 0 1 0 0-64H672a32 32 0 0 0-32 32v192a32 32 0 1 0 64 0v-114.752l137.36 137.36a32 32 0 1 0 45.232-45.264L749.248 704zM320 749.248V864a32 32 0 1 0 64 0V672a32 32 0 0 0-32-32H160a32 32 0 1 0 0 64h114.752l-137.36 137.36a32 32 0 1 0 45.264 45.232L320 749.248zM749.248 320H864a32 32 0 1 1 0 64H672a32 32 0 0 1-32-32V160a32 32 0 1 1 64 0v114.752l137.36-137.36a32 32 0 1 1 45.232 45.264L749.248 320zM320 274.752V160a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32H160a32 32 0 1 1 0-64h114.752l-137.36-137.36a32 32 0 1 1 45.264-45.232L320 274.752z","p-id":"2677"},null)]):i("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2522",width:"128",height:"128"},[i("path",{d:"M237.248 192H352a32 32 0 1 0 0-64H160a32 32 0 0 0-32 32v192a32 32 0 1 0 64 0v-114.752l137.36 137.36a32 32 0 1 0 45.232-45.264L237.248 192zM832 237.248V352a32 32 0 1 0 64 0V160a32 32 0 0 0-32-32H672a32 32 0 1 0 0 64h114.752l-137.36 137.36a32 32 0 1 0 45.264 45.232L832 237.248zM237.248 832H352a32 32 0 1 1 0 64H160a32 32 0 0 1-32-32V672a32 32 0 1 1 64 0v114.752l137.36-137.36a32 32 0 1 1 45.232 45.264L237.248 832zM832 786.752V672a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32H672a32 32 0 1 1 0-64h114.752l-137.36-137.36a32 32 0 1 1 45.264-45.232L832 786.752z","p-id":"2523"},null)])]})])]),n[Sn]?.(),i("li",null,[i(V,{"show-timeout":70,"hide-timeout":80,onCommand:e=>{a("changeUserDropdown",e),l.onChangeUserDropdown&&l.onChangeUserDropdown(e)}},{default:()=>i("span",{class:e.be("header-tools","user")},[u?i("img",{class:"user-photo",src:u},null):null,i("span",null,[l.userName]),i(N,{class:"el-icon--right"},{default:()=>[i(Mn,null,null)]})]),dropdown:()=>i(B,null,{default:()=>[c?.map((e=>{let t;return i(L,{command:e.value,divided:!!e.divided},ir(t=o(e.label))?t:{default:()=>[t]})}))]})})]),i("li",null,[i("span",{style:{display:"inline-block",lineHeight:1},onClick:()=>{this.settingDrawer=!0}},[i(N,{size:16},{default:()=>[i(qo,null,null)]})])])]),i(m,{to:"body"},{default:()=>[i(H,{modelValue:this.settingDrawer,"onUpdate:modelValue":e=>this.settingDrawer=e,title:this.t("next.layout.systemSetting"),direction:"rtl",size:"380px",class:e.be("drawer","setting"),"destroy-on-close":!0,beforeClose:p},{default:()=>[i(rr,null,null)]})]})])}});const{getLightColor:ur}=cn();var cr=r({setup:()=>({ns:t("ns",{})}),render(){const e=this.$slots,l=this.ns,n=t("options",{}),o=a((()=>{const{isHeaderBarColorGradual:e,headerBarColor:t}=n.setting;return e?{background:`linear-gradient(to bottom , ${t}, ${ur(t,.5)})`}:""}));return i("header",{class:l.b("header"),style:o.value},[i(jn,null,null),i("div",{class:l.bf("header","right")},[i(sr,null,{default:()=>[e[Cn]?.(),e[Sn]?.()]})])])}});function dr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pr={exports:{}};(pr.exports={}).forEach=function(e,t){for(var l=0;l<e.length;l++){var a=t(e[l]);if(a)return a}};var fr=pr.exports,hr={exports:{}},mr=hr.exports={};mr.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),l=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(l[0]);return e>4?e:undefined}());var t},mr.isLegacyOpera=function(){return!!window.opera};var vr=hr.exports,gr={exports:{}};(gr.exports={}).getOption=function(e,t,l){var a=e[t];if(null==a&&void 0!==l)return l;return a};var br=gr.exports;function yr(){var e={},t=0,l=0,a=0;return{add:function(n,o){o||(o=n,n=0),n>l?l=n:n<a&&(a=n),e[n]||(e[n]=[]),e[n].push(o),t++},process:function(){for(var t=a;t<=l;t++)for(var n=e[t],o=0;o<n.length;o++){(0,n[o])()}},size:function(){return t}}}var xr="_erd";function wr(e){return e[xr]}var Cr={initState:function(e){return e[xr]={},wr(e)},getState:wr,cleanState:function(e){delete e[xr]}},Sr=vr,_r=fr.forEach,Dr=fr.forEach,kr=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var l=t(e);return l&&!!l.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,l){t(e).busy=!!l}}},jr=function(e){var t={};function l(l){var a=e.get(l);return void 0===a?[]:t[a]||[]}return{get:l,add:function(l,a){var n=e.get(l);t[n]||(t[n]=[]),t[n].push(a)},removeListener:function(e,t){for(var a=l(e),n=0,o=a.length;n<o;++n)if(a[n]===t){a.splice(n,1);break}},removeAllListeners:function(e){var t=l(e);t&&(t.length=0)}}},zr=function(){var e=1;return{generate:function(){return e++}}},Ar=function(e){var t=e.idGenerator,l=e.stateHandler.getState;return{get:function(e){var t=l(e);return t&&void 0!==t.id?t.id:null},set:function(e){var a=l(e);if(!a)throw new Error("setId required the element to have a resize detection state.");var n=t.generate();return a.id=n,n}}},Or=function(e){function t(){}var l={log:t,warn:t,error:t};if(!e&&window.console){var a=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var l=0;l<arguments.length;l++)e(arguments[l])}};a(l,"log"),a(l,"warn"),a(l,"error")}return l},Tr=vr,Mr=function(e){var t=(e=e||{}).reporter,l=br.getOption(e,"async",!0),a=br.getOption(e,"auto",!0);a&&!l&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),l=!0);var n,o=yr(),r=!1;function i(){for(r=!0;o.size();){var e=o;o=yr(),e.process()}r=!1}function s(){var e;e=i,n=setTimeout(e,0)}return{add:function(e,t){!r&&a&&l&&0===o.size()&&s(),o.add(e,t)},force:function(e){r||(void 0===e&&(e=l),n&&(clearTimeout(n),n=null),e?s():i())}}},Er=Cr,Vr=function(e){var t=(e=e||{}).reporter,l=e.batchProcessor,a=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function n(t){var l=e.important?" !important; ":"; ";return(t.join(l)+l).trim()}function o(e){return a(e).object}return{makeDetectable:function(e,o,r){r||(r=o,o=e,e=null),(e=e||{}).debug,Sr.isIE(8)?r(o):function(o,r){var i=n(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),s=!1,u=window.getComputedStyle(o),c=o.offsetWidth,d=o.offsetHeight;function p(){function l(){if("static"===u.position){o.style.setProperty("position","relative",e.important?"important":"");var l=function(t,l,a,n){var o=a[n];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+n+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",l),l.style.setProperty(n,"0",e.important?"important":""))};l(t,o,u,"top"),l(t,o,u,"right"),l(t,o,u,"bottom"),l(t,o,u,"left")}}""!==u.position&&(l(),s=!0);var n=document.createElement("object");n.style.cssText=i,n.tabIndex=-1,n.type="text/html",n.setAttribute("aria-hidden","true"),n.onload=function(){s||l(),function e(t,l){if(!t.contentDocument){var n=a(t);return n.checkForObjectDocumentTimeoutId&&window.clearTimeout(n.checkForObjectDocumentTimeoutId),void(n.checkForObjectDocumentTimeoutId=setTimeout((function(){n.checkForObjectDocumentTimeoutId=0,e(t,l)}),100))}l(t.contentDocument)}(this,(function(e){r(o)}))},Sr.isIE()||(n.data="about:blank"),a(o)&&(o.appendChild(n),a(o).object=n,Sr.isIE()&&(n.data="about:blank"))}a(o).startSize={width:c,height:d},l?l.add(p):p()}(o,r)},addListener:function(e,t){function l(){t(e)}if(Sr.isIE(8))a(e).object={proxy:l},e.attachEvent("onresize",l);else{var n=o(e);if(!n)throw new Error("Element is not detectable by this strategy.");n.contentDocument.defaultView.addEventListener("resize",l)}},uninstall:function(e){if(a(e)){var t=o(e);t&&(Sr.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),a(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(a(e).checkForObjectDocumentTimeoutId),delete a(e).object)}}}},Nr=function(e){var t=(e=e||{}).reporter,l=e.batchProcessor,a=e.stateHandler.getState;e.stateHandler.hasState;var n=e.idHandler;if(!l)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var o=function(){var e=500,t=500,l=document.createElement("div");l.style.cssText=s(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var a=document.createElement("div");a.style.cssText=s(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),a.appendChild(l),document.body.insertBefore(a,document.body.firstChild);var n=e-a.clientWidth,o=t-a.clientHeight;return document.body.removeChild(a),{width:n,height:o}}(),r="erd_scroll_detection_container";function i(e){!function(e,t,l){function a(l,a){a=a||function(t){e.head.appendChild(t)};var n=e.createElement("style");return n.innerHTML=l,n.id=t,a(n),n}if(!e.getElementById(t)){var n=l+"_animation",o=l+"_animation_active",r="/* Created by the element-resize-detector library. */\n";r+="."+l+" > div::-webkit-scrollbar { "+s(["display: none"])+" }\n\n",r+="."+o+" { "+s(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+n,"animation-name: "+n])+" }\n",r+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",a(r+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style",r)}function s(t){var l=e.important?" !important; ":"; ";return(t.join(l)+l).trim()}function u(e,l,a){if(e.addEventListener)e.addEventListener(l,a);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+l,a)}}function c(e,l,a){if(e.removeEventListener)e.removeEventListener(l,a);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+l,a)}}function d(e){return a(e).container.childNodes[0].childNodes[0].childNodes[0]}function p(e){return a(e).container.childNodes[0].childNodes[0].childNodes[1]}return i(window.document),{makeDetectable:function(e,i,c){function f(){if(e.debug){var l=Array.prototype.slice.call(arguments);if(l.unshift(n.get(i),"Scroll: "),t.log.apply)t.log.apply(null,l);else for(var a=0;a<l.length;a++)t.log(l[a])}}function h(e){var t=a(e).container.childNodes[0],l=window.getComputedStyle(t);return!l.width||-1===l.width.indexOf("px")}function m(){var e=window.getComputedStyle(i),t={};return t.position=e.position,t.width=i.offsetWidth,t.height=i.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function v(){if(f("storeStyle invoked."),a(i)){var e=m();a(i).style=e}else f("Aborting because element has been uninstalled")}function g(e,t,l){a(e).lastWidth=t,a(e).lastHeight=l}function b(){return 2*o.width+1}function y(){return 2*o.height+1}function x(e){return e+10+b()}function w(e){return e+10+y()}function C(e,t,l){var a=d(e),n=p(e),o=x(t),r=w(l),i=function(e){return 2*e+b()}(t),s=function(e){return 2*e+y()}(l);a.scrollLeft=o,a.scrollTop=r,n.scrollLeft=i,n.scrollTop=s}function S(){var e=a(i).container;if(!e){(e=document.createElement("div")).className=r,e.style.cssText=s(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),a(i).container=e,function(e){e.className+=" "+r+"_animation_active"}(e),i.appendChild(e);var t=function(){a(i).onRendered&&a(i).onRendered()};u(e,"animationstart",t),a(i).onAnimationStart=t}return e}function _(){if(f("Injecting elements"),a(i)){!function(){var l=a(i).style;if("static"===l.position){i.style.setProperty("position","relative",e.important?"important":"");var n=function(e,t,l,a){var n=l[a];"auto"!==n&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(n)&&(e.warn("An element that is positioned static has style."+a+"="+n+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+a+" will be set to 0. Element: ",t),t.style[a]=0)};n(t,i,l,"top"),n(t,i,l,"right"),n(t,i,l,"bottom"),n(t,i,l,"left")}}();var l=a(i).container;l||(l=S());var n,c,d,p,h=o.width,m=o.height,v=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),g=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(n=(n=-(1+h))?n+"px":"0"),"top: "+(c=(c=-(1+m))?c+"px":"0"),"right: "+(p=(p=-h)?p+"px":"0"),"bottom: "+(d=(d=-m)?d+"px":"0")])),b=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),x=s(["position: absolute","left: 0","top: 0"]),w=s(["position: absolute","width: 200%","height: 200%"]),C=document.createElement("div"),_=document.createElement("div"),D=document.createElement("div"),k=document.createElement("div"),j=document.createElement("div"),z=document.createElement("div");C.dir="ltr",C.style.cssText=v,C.className=r,_.className=r,_.style.cssText=g,D.style.cssText=b,k.style.cssText=x,j.style.cssText=y,z.style.cssText=w,D.appendChild(k),j.appendChild(z),_.appendChild(D),_.appendChild(j),C.appendChild(_),l.appendChild(C),u(D,"scroll",A),u(j,"scroll",O),a(i).onExpandScroll=A,a(i).onShrinkScroll=O}else f("Aborting because element has been uninstalled");function A(){var e=a(i);e&&e.onExpand?e.onExpand():f("Aborting expand scroll handler: element has been uninstalled")}function O(){var e=a(i);e&&e.onShrink?e.onShrink():f("Aborting shrink scroll handler: element has been uninstalled")}}function D(){function o(t,l,a){var n=function(e){return d(e).childNodes[0]}(t),o=x(l),r=w(a);n.style.setProperty("width",o+"px",e.important?"important":""),n.style.setProperty("height",r+"px",e.important?"important":"")}function r(r){var u=i.offsetWidth,c=i.offsetHeight,d=u!==a(i).lastWidth||c!==a(i).lastHeight;f("Storing current size",u,c),g(i,u,c),l.add(0,(function(){if(d)if(a(i))if(s()){if(e.debug){var l=i.offsetWidth,r=i.offsetHeight;l===u&&r===c||t.warn(n.get(i),"Scroll: Size changed before updating detector elements.")}o(i,u,c)}else f("Aborting because element container has not been initialized");else f("Aborting because element has been uninstalled")})),l.add(1,(function(){a(i)?s()?C(i,u,c):f("Aborting because element container has not been initialized"):f("Aborting because element has been uninstalled")})),d&&r&&l.add(2,(function(){a(i)?s()?r():f("Aborting because element container has not been initialized"):f("Aborting because element has been uninstalled")}))}function s(){return!!a(i).container}function u(){f("notifyListenersIfNeeded invoked");var e=a(i);return void 0===a(i).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?f("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?f("Not notifying: Size already notified"):(f("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void _r(a(i).listeners,(function(e){e(i)})))}function c(){f("Scroll detected."),h(i)?f("Scroll event fired while unrendered. Ignoring..."):r(u)}if(f("registerListenersAndPositionElements invoked."),a(i)){a(i).onRendered=function(){if(f("startanimation triggered."),h(i))f("Ignoring since element is still unrendered...");else{f("Element rendered.");var e=d(i),t=p(i);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(f("Scrollbars out of sync. Updating detector elements..."),r(u))}},a(i).onExpand=c,a(i).onShrink=c;var m=a(i).style;o(i,m.width,m.height)}else f("Aborting because element has been uninstalled")}function k(){if(f("finalizeDomMutation invoked."),a(i)){var e=a(i).style;g(i,e.width,e.height),C(i,e.width,e.height)}else f("Aborting because element has been uninstalled")}function j(){c(i)}function z(){var e;f("Installing..."),a(i).listeners=[],e=m(),a(i).startSize={width:e.width,height:e.height},f("Element start size",a(i).startSize),l.add(0,v),l.add(1,_),l.add(2,D),l.add(3,k),l.add(4,j)}c||(c=i,i=e,e=null),e=e||{},f("Making detectable..."),!function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(i)?z():(f("Element is detached"),S(),f("Waiting until element is attached..."),a(i).onRendered=function(){f("Element is now attached"),z()})},addListener:function(e,t){if(!a(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");a(e).listeners.push(t)},uninstall:function(e){var t=a(e);t&&(t.onExpandScroll&&c(d(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(p(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:i}};function Br(e){return Array.isArray(e)||void 0!==e.length}function Lr(e){if(Array.isArray(e))return e;var t=[];return Dr(e,(function(e){t.push(e)})),t}function Hr(e){return e&&1===e.nodeType}var Pr=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var l=zr(),a=Ar({idGenerator:l,stateHandler:Er});t=a}var n=e.reporter;n||(n=Or(!1===n));var o=Fr(e,"batchProcessor",Mr({reporter:n})),r={};r.callOnAdd=!!Fr(e,"callOnAdd",!0),r.debug=!!Fr(e,"debug",!1);var i,s=jr(t),u=kr({stateHandler:Er}),c=Fr(e,"strategy","object"),d=Fr(e,"important",!1),p={reporter:n,batchProcessor:o,stateHandler:Er,idHandler:t,important:d};if("scroll"===c&&(Tr.isLegacyOpera()?(n.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),c="object"):Tr.isIE(9)&&(n.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),c="object")),"scroll"===c)i=Nr(p);else{if("object"!==c)throw new Error("Invalid strategy name: "+c);i=Vr(p)}var f={};return{listenTo:function(e,l,a){function o(e){var t=s.get(e);Dr(t,(function(t){t(e)}))}function c(e,t,l){s.add(t,l),e&&l(t)}if(a||(a=l,l=e,e={}),!l)throw new Error("At least one element required.");if(!a)throw new Error("Listener required.");if(Hr(l))l=[l];else{if(!Br(l))return n.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");l=Lr(l)}var p=0,h=Fr(e,"callOnAdd",r.callOnAdd),m=Fr(e,"onReady",(function(){})),v=Fr(e,"debug",r.debug);Dr(l,(function(e){Er.getState(e)||(Er.initState(e),t.set(e));var r=t.get(e);if(v&&n.log("Attaching listener to element",r,e),!u.isDetectable(e))return v&&n.log(r,"Not detectable."),u.isBusy(e)?(v&&n.log(r,"System busy making it detectable"),c(h,e,a),f[r]=f[r]||[],void f[r].push((function(){++p===l.length&&m()}))):(v&&n.log(r,"Making detectable..."),u.markBusy(e,!0),i.makeDetectable({debug:v,important:d},e,(function(e){if(v&&n.log(r,"onElementDetectable"),Er.getState(e)){u.markAsDetectable(e),u.markBusy(e,!1),i.addListener(e,o),c(h,e,a);var t=Er.getState(e);if(t&&t.startSize){var s=e.offsetWidth,d=e.offsetHeight;t.startSize.width===s&&t.startSize.height===d||o(e)}f[r]&&Dr(f[r],(function(e){e()}))}else v&&n.log(r,"Element uninstalled before being detectable.");delete f[r],++p===l.length&&m()})));v&&n.log(r,"Already detecable, adding listener."),c(h,e,a),p++})),p===l.length&&m()},removeListener:s.removeListener,removeAllListeners:s.removeAllListeners,uninstall:function(e){if(!e)return n.error("At least one element is required.");if(Hr(e))e=[e];else{if(!Br(e))return n.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=Lr(e)}Dr(e,(function(e){s.removeAllListeners(e),i.uninstall(e),Er.cleanState(e)}))},initDocument:function(e){i.initDocument&&i.initDocument(e)}}};function Fr(e,t,l){var a=e[t];return null==a&&void 0!==l?l:a}var Ir=dr(Pr);const $r=(e,t)=>{const l=Ir();let a=null;l.listenTo(e,(()=>{null!==a&&clearTimeout(a),a=setTimeout((()=>{t&&t(e),clearTimeout(a)}),200)})),g((()=>{l.removeListener(e,(()=>{}))}))},Rr=e=>{if(null==e)return e;let t;if("object"==typeof e){t=Array.isArray(e)?[]:{};for(let l in e)"object"==typeof e[l]?t[l]=Rr(e[l]):t[l]=e[l]}else t=e;return t},Ur=(e,t)=>{const l=[],a=new Map;for(const n of e){const e=n[t];a.has(e)||(a.set(e,!0),l.push(n))}return l},Wr=e=>null!=e&&("string"==typeof e?""!==e.trim():!1!==e),Yr=(...e)=>{let t=null;for(let l=0;l<e.length;l++){const a=e[l];if(null!=a){t=a;break}}return t},qr=(e,t,l)=>(Object.defineProperty(e,l,{get:()=>t[l]}),{target:e,source:t});var Kr=r({props:{meta:{type:Object,default:()=>({})}},setup(e){const l=t("ns",{}),{t:a}=sn(),n=e.meta;return()=>i(s,null,[i("span",{class:l.be("item","icon")},[n.icon?i("i",{class:n.icon},null):i("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19771",width:"32",height:"32"},[i("path",{d:"M512 958.8C265.6 958.8 65.2 758.4 65.2 512S265.6 65.2 512 65.2 958.8 265.6 958.8 512 758.4 958.8 512 958.8z m0-832c-212.4 0-385.2 172.8-385.2 385.2S299.6 897.2 512 897.2 897.2 724.4 897.2 512 724.4 126.8 512 126.8z","p-id":"19772"},null),i("path",{d:"M512 512m-169.5 0a169.5 169.5 0 1 0 339 0 169.5 169.5 0 1 0-339 0Z","p-id":"19773"},null)])]),i("span",{class:l.be("item","title")},[a(n.title)])])}});const Gr=r({name:"NextMenuItem",props:{menuData:{type:Array,required:!0}},setup(e){const l=t("ns",{}),n=a((()=>e.menuData)).value;return()=>i(s,null,[i(s,null,[n.map((e=>e.children?.length?Yr(e.meta?.isHide,!1)?null:i(F,{"popper-class":l.b("popper"),index:e.path||e.id,teleported:!0},{title:()=>i(Kr,{meta:e.meta},null),default:()=>i(Gr,{menuData:e.children},null)}):Yr(e.meta?.isHide,!1)?null:i(P,{index:e.path},{default:()=>[i(Kr,{meta:e.meta},null)]})))])])}}),Xr=je("menu");const Zr=xn(r({name:"NextMenu",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},router:{type:Boolean,default:!0},mode:{type:String,values:["horizontal","vertical"],default:"horizontal"},menuTree:{type:Array,default:()=>[]}},setup(t){b("ns",Xr);const a=e().appContext.config.globalProperties.$router,n=a.currentRoute?.value.fullPath,o=l(n);y((()=>a.currentRoute?.value),(e=>{o.value=e.fullPath}));return()=>i(s,null,[i(I,{class:[Xr.b(),t.className],style:t.style,defaultActive:o.value,router:t.router,mode:t.mode,ellipsis:!0},{default:()=>[i(s,null,[t.menuTree.map((e=>e.children?.length?Yr(e.meta?.isHide,!1)?null:i(F,{"popper-class":Xr.b("popper"),index:e.path||e.id,teleported:!0},{title:()=>i(Kr,{meta:e.meta},null),default:()=>i(Gr,{menuData:e.children},null)}):Yr(e.meta?.isHide,!1)?null:i(P,{"popper-class":Xr.b("popper"),index:e.path},{default:()=>[i(Kr,{meta:e.meta},null)]})))])]})])}}));var Jr=r({setup:()=>({ns:t("ns",{})}),render(){const e=this.$slots,l=this.ns,a=t("options",{});return i("aside",{class:l.b("sidebar")},[i(O,null,{default:()=>[e[wn]?e[wn]():i(Zr,{mode:"vertical",menuTree:a.menuTree},null)]})])}});const Qr=je("layout-defaults");var ei=r({props:{},setup:()=>(b("ns",Qr),{}),render(){const e=this.$slots,a=t("options",{}),n=t("__emit__",{});e.menu;const o=l(!!e.tabs);return void 0===e.tabs&&a.showTabs&&(o.value=!0),i($,{class:Qr.b()},{default:()=>[i(Jr,null,null),i("div",{class:[Qr.b("content")]},[i(cr,null,null),a.showTabs?e.tabs?e.tabs?.():i(wi,{tabs:a.tabs,activeTab:a.activeTab,onChange:(...e)=>n("tabsChange",...e),onSelect:(...e)=>n("tabsSelect",...e),onClose:(...e)=>n("tabsClose",...e)},null):null,i("main",{class:[Qr.bf("main"),Qr.is("layout-tabs",o.value)]},[e.default?.()])])]})}});const{getLightColor:ti}=cn();var li=r({setup(e,{slots:l}){const n=t("ns",{}),o=t("options",{}),r=a((()=>{const{isHeaderBarColorGradual:e,headerBarColor:t}=o.setting;return e?{background:`linear-gradient(to bottom , ${t}, ${ti(t,.5)})`}:""}));return()=>i(s,null,[i("header",{class:n.b("header"),style:r.value},[i(jn,null,null),i("div",{class:n.bf("header","menu")},[l[wn]?l[wn]():i(Zr,{menuTree:o.menuTree,router:o.menuRouter,mode:o.menuMode},null)]),i("div",{class:n.bf("header","right")},[i(sr,null,{default:()=>[l[Cn]?.(),l[Sn]?.()]})])])])}});const ai=je("layout-transverse");var ni=r({props:{},setup:()=>(b("ns",ai),{}),render(){const e=this.$slots,a=t("options",{}),n=t("__emit__",{}),o={};e[wn]&&(o[wn]=()=>e[wn]()),e[Cn]&&(o[Cn]=()=>e[Cn]()),e[Sn]&&(o[Sn]=()=>e[Sn]());const r=l(!!e.tabs);return void 0===e.tabs&&a.showTabs&&(r.value=!0),i(s,null,[i(li,null,(u=o,"function"==typeof u||"[object Object]"===Object.prototype.toString.call(u)&&!v(u)?o:{default:()=>[o]})),a.showTabs?e.tabs?e.tabs?.():i(wi,{tabs:a.tabs,activeTab:a.activeTab,onChange:(...e)=>n("tabsChange",...e),onSelect:(...e)=>n("tabsSelect",...e),onClose:(...e)=>n("tabsClose",...e)},null):null,i("main",{class:[ai.b("main"),ai.is("layout-tabs",r.value)]},[e.default?.()])]);var u}});const{getLightColor:oi}=cn();var ri=r({setup(e,{slots:l}){const n=t("ns",{}),o=t("options",{}),r=a((()=>{const{isHeaderBarColorGradual:e,headerBarColor:t}=o.setting;return e?{background:`linear-gradient(to bottom , ${t}, ${oi(t,.5)})`}:""}));return()=>i(s,null,[i("header",{class:n.b("header"),style:r.value},[i(jn,null,null),i("div",{class:n.bf("header","menu")},null),i("div",{class:n.bf("header","right")},[i(sr,null,{default:()=>[l[Cn]?.(),l[Sn]?.()]})])])])}}),ii=r({setup:()=>({ns:t("ns",{})}),render(){const e=this.$slots,l=this.ns,a=t("options",{});return i("aside",{class:l.b("sidebar")},[e[wn]?e[wn]():i(Zr,{mode:"vertical",menuTree:a.menuTree},null)])}});const si=je("layout-columns");var ui=r({props:{},setup:()=>(b("ns",si),{}),render(){const e=this.$slots,a=t("options",{}),n=t("__emit__",{}),o={};e[wn]&&(o[wn]=()=>e[wn]()),e[Cn]&&(o[Cn]=()=>e[Cn]()),e[Sn]&&(o[Sn]=()=>e[Sn]());const r=l(!!e.tabs);return void 0===e.tabs&&a.showTabs&&(r.value=!0),i($,{class:si.b()},{default:()=>{return[i(ii,null,null),i("div",{class:[si.b("content")]},[i(ri,null,(t=o,"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!v(t)?o:{default:()=>[o]})),a.showTabs?e.tabs?e.tabs?.():i(wi,{tabs:a.tabs,activeTab:a.activeTab,onChange:(...e)=>n("tabsChange",...e),onSelect:(...e)=>n("tabsSelect",...e),onClose:(...e)=>n("tabsClose",...e)},null):null,i("main",{class:[si.bf("main"),si.is("layout-tabs",r.value)]},[e.default?.()])])];var t}})}});const{getLightColor:ci}=cn();var di=r({setup(e,{slots:l}){const n=t("ns",{}),o=t("options",{}),r=a((()=>{const{isHeaderBarColorGradual:e,headerBarColor:t}=o.setting;return e?{background:`linear-gradient(to bottom , ${t}, ${ci(t,.5)})`}:""}));return()=>i(s,null,[i("header",{class:n.b("header"),style:r.value},[i(jn,null,null),i("div",{class:n.bf("header","menu")},[l[wn]?.()]),i("div",{class:n.bf("header","right")},[i(sr,null,{default:()=>[l[Cn]?.(),l[Sn]?.()]})])])])}}),pi=r({setup:()=>({ns:t("ns",{})}),render(){const e=this.$slots,l=this.ns,a=t("options",{});return i("aside",{class:l.b("sidebar")},[i(O,null,{default:()=>[e[wn]?e[wn]():i(Zr,{mode:"vertical",menuTree:a.menuTree},null)]})])}});const fi=je("layout-classic");var hi=r({props:{},setup:()=>(b("ns",fi),{ns:fi}),render(){const e=this.$slots,a=t("options",{}),n=t("__emit__",{});e.menu;const o=l(!!e.tabs);return void 0===e.tabs&&a.showTabs&&(o.value=!0),i(s,null,[i(di,null,null),i("div",{class:[fi.b("content"),fi.is("layout-tabs",o.value)]},[i(pi,null,null),i("div",{class:fi.b("container")},[a.showTabs?e.tabs?e.tabs?.():i(wi,{tabs:a.tabs,activeTab:a.activeTab,onChange:(...e)=>n("tabsChange",...e),onSelect:(...e)=>n("tabsSelect",...e),onClose:(...e)=>n("tabsClose",...e)},null):null,i("main",{class:[fi.b("main")]},[e.default?.()])])])])}});const mi=je("layout"),vi={defaults:x(ei),transverse:x(ni),columns:x(ui),classic:x(hi)},gi=(e,t)=>{if(Array.isArray(e))return t};const bi=xn(r({name:"NextLayout",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},emits:["changeLanguage","changeUserDropdown","changeOptions","tabsChange","tabsSelect","tabsClose"],setup(e,{slots:t,emit:a}){const n=l(Xa(_n,e.options,gi));b("options",n.value),b("__ns__",mi),b("__emit__",a),b("__slots__",t);const o=e=>{n.value=Xa(n.value,e,gi),vn(n.value?.setting),a("changeOptions",n.value)};return b("updateOptions",o),y((()=>e.options),(e=>{o(e)}),{deep:!0,immediate:!0}),{options:n.value,updateOptions:o}},render(){const e=this.$props,t=this.$slots,a=this.options.setting?.layout||"transverse",n=l(vi[a]);w((()=>{n.value=vi[a],n.value||(n.value=vi.transverse)}));const o={};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=()=>t[e]?.());return i("div",{class:[mi.b(),e.className],style:e.style},[C(n.value,{},{...o})])}})),yi=je("tabs");var xi=r({name:"NextTabs",props:{activeTab:{type:[String,Number],default:"/"},tabs:{type:Array,default:()=>[]}},emits:["change","select","close"],setup(t,{emit:n}){const{t:o}=sn(),r=e().appContext.config.globalProperties.$router,u=a((()=>r.currentRoute.value.fullPath)),c=a((()=>t.tabs)),d=c.value?.findIndex((e=>e.path===u.value));if(d<0){const e=c.value[0];e&&e.path&&r.replace({path:e.path})}const p=l(d),f=l(c.value),h=e=>{const t=u.value,l=f.value.length,a=f.value.findIndex((e=>e.path===t));switch(e){case"other":a>-1&&(p.value=1,f.value=[f.value[0],f.value[a]]);break;case"left":if(a>-1){const e=f.value.slice(a);e.unshift(f.value[0]),f.value=e,p.value=1}break;case"right":if(a>-1&&a<l-1){const e=f.value.slice(0,a+1);f.value=e}break;case"all":const e=f.value[0];p.value=0,f.value=[e],m(null,e,p.value)}n("change",p.value,f.value,e)},m=(e,t,l)=>{e?.stopPropagation(),p.value=l;let a={path:t.path,query:t.query,params:t.params};r.push(a),n("select",t,l)};y((()=>r.currentRoute?.value),(e=>{const{tagTitle:t}=e.query,l={name:e.name,title:t||e.meta?.title,path:e.path,meta:e.meta,params:e.params,query:e.query},a=f.value.findIndex((t=>t.path===e.path));a>-1?(p.value=a,f.value[a]=l):(p.value=f.value.length,f.value.push(l)),n("change",p.value,f.value,"add")}));const v=()=>i("nav",{class:yi.b()},[i(O,null,{default:()=>[i("ul",{class:yi.b("list")},[f.value.map(((e,t)=>e?i("li",{class:["tab-item",yi.is("active",p.value===t)],onClick:l=>m(l,e,t)},[i("i",{class:["tab-icon",e.meta?.icon]},null),i("span",null,[o(e.title)]),e.meta?.isAffix||"/"===e.path?null:i("span",{onClick:l=>((e,t,l)=>{e.stopPropagation();const a=u.value;if(a===t.path){const e=f.value[l-1];r.push({path:e.path,query:e.query||{},params:e.params||{}}),n("close",e,f.value)}f.value.splice(l,1);const o=f.value.findIndex((e=>e.path===a))||0;p.value=o>-1?o:0,n("change",p.value,f.value,"close")})(l,e,t)},[i(N,{class:"tab-close"},{default:()=>[i(Kn,null,null)]})])]):null))])]}),i(V,{"show-timeout":80,"hide-timeout":80,onCommand:h},{default:()=>i("span",{class:yi.b("tab-more")},[i("i",{class:[yi.be("tab-more","box"),yi.be("tab-more","top")]},null),i("i",{class:[yi.be("tab-more","box"),yi.be("tab-more","bottom")]},null)]),dropdown:()=>i(B,null,{default:()=>[i(L,{command:"other"},{default:()=>[i(N,null,{default:()=>[i(Kn,null,null)]}),i("span",null,[o("next.layout.tabsOther")])]}),i(L,{command:"left"},{default:()=>[i(N,null,{default:()=>[i(Fn,null,null)]}),i("span",null,[o("next.layout.tabsLeft")])]}),i(L,{command:"right"},{default:()=>[i(N,null,{default:()=>[i(Po,null,null)]}),i("span",null,[o("next.layout.tabsRight")])]}),i(L,{command:"all"},{default:()=>[i(N,null,{default:()=>[i(Kn,null,null)]}),i("span",null,[o("next.layout.tabsAll")])]})]})})]);return()=>i(s,null,[v()])}});const wi=xn(xi),Ci=je("container");const Si=xn(r({name:"NextContainer",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},scrollbar:{type:Boolean,default:!1},padding:{type:[Boolean,String,Number],default:!0},card:{type:Boolean,default:!1}},setup(e,{slots:t}){const l=a((()=>{let t={};const l=e.padding;return"boolean"==typeof l?t=l?{padding:"15px"}:{}:"string"==typeof l?t={padding:l}:"number"==typeof l&&(t={padding:l+"px"}),t}));return()=>e.scrollbar?i(O,{class:[Ci.b(),e.className],style:e.style},{default:()=>[t.default?.()]}):i("div",{class:[Ci.b(),e.className],style:{...l.value,...e.style}},[e.card?i("div",{class:Ci.b("card")},[t.default?.()]):t.default?.()])}}));var _i={className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},data:{type:Array,default:()=>[]},page:{type:Object,default:()=>({pageIndex:1,pageSize:10,total:0})},rowStyle:{type:Function,default:void 0},rowClassName:{type:Function,default:void 0},cellStyle:{type:Function,default:void 0},cellClassName:{type:Function,default:void 0},headerRowStyle:{type:Function,default:void 0},headerRowClassName:{type:Function,default:void 0},headerCellStyle:{type:Function,default:void 0},headerCellClassName:{type:Function,default:void 0},spanMethod:{type:Function,default:void 0}};const Di=["menu-left-prefix","menu-left-suffix","menu-right-prefix","menu-right-suffix"],ki=["operation-column-prefix","operation-column-suffix"];var ji={initLoadData:!0,defaultContentHeight:300,fullscreenchangeContentHeight:!1,rowKey:"id",size:"default",fit:!0,stripe:!0,border:!0,index:!0,selection:!0,headerAlign:"center",cellAlign:"center",columnMinWidth:"100px",columns:[],showSearchForm:!0,showHeaderMenu:!0,showSearchLabel:!0,searchSpan:4,searchGutter:20,searchLabelWidth:"5em",searchColumnMinWidth:300,searchColumns:[],addBtn:!0,viewBtn:!0,delBtn:!0,editBtn:!0,batchDelBtn:!1,refreshBtn:!0,settingBtn:!0,operations:!0,operationsWidth:260,operationsBtnPlain:!1,operationsBtnText:!0,operationsBtnSize:"small",addBtnText:"",isPagination:!0,dialogTitle:"",dialogWidth:"60%",dialogFullscreen:!1,closeOnClickModal:!1,formColumns:[],formLabelWidth:"5em",formSpan:12,formColumnMinWidth:350};const zi="column-",Ai=e=>zi+e,Oi="search-",Ti=e=>Oi+e,Mi="form-",Ei=e=>Mi+e,Vi=je("spin-loading");var Ni=r({name:"NextSpinLoading",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},tip:{type:String,default:""}},setup(){const{t:e}=sn();return{t:e}},render(){const e=this.t,t=this.$slots,l=this.$props,a=l.tip||e("next.loading");return i("div",{class:[Vi.b(),l.className],style:l.style},[l.loading?i("div",{class:Vi.b("mask")},[i("span",{class:Vi.b("mask-dot")},[i("i",{class:Vi.be("mask","dot-item")},null),i("i",{class:Vi.be("mask","dot-item")},null),i("i",{class:Vi.be("mask","dot-item")},null),i("i",{class:Vi.be("mask","dot-item")},null)]),i("span",{class:Vi.be("mask","text")},[a])]):null,t.default?.()])}}),Bi=r({name:"SearchColumn",props:{searchSpan:{type:Number,default:4},columns:{type:Array,default:()=>[]},formParams:{type:Object,default:()=>{}}},setup(e,{slots:a}){const r=t("options",{}),u=o(r)?n(r):r,{t:c}=sn(),d=t("ns",{}),f=l(e.columns);y((()=>e.columns),(()=>{f.value=e.columns}),{deep:!0});const h=p(e.formParams),m=e=>e.getTime()>Date.now(),v=[{text:c("next.date.oneWeekAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:c("next.date.oneMonthAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:c("next.date.threeMonthsAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}},{text:c("next.date.oneYearAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-31536e6),[t,e]}},{text:c("next.date.threeYearsAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-94608e6),[t,e]}}],g=(e,t)=>{h.value[t]=e},b=e=>{const t=Yr(e.searchDisabled,e.disabled,!1);if(a[Ti(e.prop)])return a[Ti(e.prop)]({column:e});if("input"===e.type||!e.type){const l=c("next.form.input")+(e.searchPlaceholder||e.searchLabel||e.label);return i(W,{modelValue:h[e.prop],"onUpdate:modelValue":t=>h[e.prop]=t,clearable:!0,disabled:t,placeholder:l},{prefix:e.prefix?()=>e.prefix(h,e):null,suffix:e.suffix?()=>e.suffix(h,e):null,prepend:e.prepend?()=>e.prepend(h,e):null,append:e.append?()=>e.append(h,e):null})}if("inputInteger"===e.type){const l=c("next.form.input")+(e.searchPlaceholder||e.searchLabel||e.label);return i(W,{modelValue:h[e.prop],"onUpdate:modelValue":t=>h[e.prop]=t,clearable:!0,disabled:t,placeholder:l,onInput:t=>((e,t)=>{const l=e.replace(/\D/g,"");h.value[t]=l})(t,e.prop)},{prefix:e.prefix?()=>e.prefix(h,e):null,suffix:e.suffix?()=>e.suffix(h,e):null,prepend:e.prepend?()=>e.prepend(h,e):null,append:e.append?()=>e.append(h,e):null})}if("inputNumber"===e.type){const l=c("next.form.input")+(e.searchPlaceholder||e.searchLabel||e.label);return i(W,{modelValue:h[e.prop],"onUpdate:modelValue":t=>h[e.prop]=t,clearable:!0,disabled:t,placeholder:l,onInput:t=>((e,t)=>{let l=e;l=l.replace(/[^0-9\.]/g,""),l=l.replace(/^\./,"0."),l=l.replace(/\.{2,}/g,"."),l=l.replace(".","DUMMY"),l=l.replace(/\./g,""),l=l.replace("DUMMY","."),h.value[t]=l})(t,e.prop)},{prefix:e.prefix?()=>e.prefix(h,e):null,suffix:e.suffix?()=>e.suffix(h,e):null,prepend:e.prepend?()=>e.prepend(h,e):null,append:e.append?()=>e.append(h,e):null})}if("select"===e.type){const l=c("next.form.select")+(e.searchPlaceholder||e.searchLabel||e.label);return i(Y,{modelValue:h[e.prop],"onUpdate:modelValue":t=>h[e.prop]=t,clearable:!0,disabled:t,placeholder:l,multiple:e.searchMultiple||!1,"collapse-tags":!0,"collapse-tags-tooltip":!0},{default:()=>[e.dicData&&e.dicData.map((e=>i(q,{value:e.value,label:e.label},null)))]})}if("date"===e.type){const l=c("next.form.select")+(e.searchPlaceholder||e.searchLabel||e.label);return i(K,{modelValue:h[e.prop],"onUpdate:modelValue":t=>h[e.prop]=t,type:"date","value-format":e.searchFormat||"YYYY-MM-DD",format:e.searchFormat||"YYYY-MM-DD",clearable:!0,"disabled-date":e.searchDisabledDate||m,disabled:t,placeholder:l,editable:e.searchEditable||!1},null)}if("datetimerange"===e.type)return i(K,{modelValue:h[e.prop],"onUpdate:modelValue":t=>h[e.prop]=t,type:"datetimerange","value-format":e.searchFormat||"YYYY-MM-DD HH:mm:ss",format:e.searchFormat||"YYYY-MM-DD HH:mm:ss",clearable:!0,"range-separator":c("next.date.rangeSeparator"),"start-placeholder":c("next.date.startPlaceholder"),"end-placeholder":c("next.date.endPlaceholder"),"disabled-date":e.searchDisabledDate||m,disabled:t,editable:e.searchEditable||!1,shortcuts:e.searchShortcuts||v},null);if("numberRange"===e.type){const t=h[e.prop],a=l(t[0]),n=l(t[1]),o=l(e.searchMin),r=l(e.searchMax),s=l(!0),u=t=>{a.value=t,g([a.value,n.value],e.prop)},p=t=>{n.value=t,g([a.value,n.value],e.prop)};return i("div",{class:d.b("header-search-item-number-range")},[i(G,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,min:o.value,max:r.value,controls:s.value,onChange:u},null),i("span",{class:"number-range-division"},[c("next.date.rangeSeparator")]),i(G,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,min:o.value,max:r.value,controls:s.value,onChange:p},null)])}return"treeSelect"===e.type?i(os,{modelValue:h[e.prop],"onUpdate:modelValue":t=>h[e.prop]=t,disabled:e.disabled,column:e,formParams:h},null):void 0};return()=>i(s,null,[i(s,null,[f.value.map((t=>!t.hide&&i(R,{span:e.searchSpan,class:d.b("header-search-item")},{default:()=>[i(U,null,{label:()=>t.label&&Yr(u.showSearchLabel,!0)?i(kn,{width:u.searchLabelWidth,content:t.label,textAlign:"right"},null):null,default:()=>b(t)})]})))])])}});function Li(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)}var Hi=r({name:"HeaderSearch",props:{columns:{type:Array,default:()=>[]}},emits:["confirmSearch","clearSearch","zoomResize"],setup(a,{emit:r,slots:u}){const c=t("options",{}),d=o(c)?n(c):c,f=t("ns",{}),{t:h}=sn(),m=t("searchFormSlots"),v={};m.value.forEach((e=>{v[e]=(...t)=>u[e]&&u[e](...t)}));const g=p({}),b=l(a.columns),y=()=>{b.value.forEach((e=>{g[e.prop]="",Wr(e.defaultValue)&&(g[e.prop]=e.defaultValue)}))};y();const x=()=>{r("confirmSearch",g)},w=()=>{y(),x(),r("clearSearch")},C=l(d.searchSpan),_=b.value.length,D=l(_),k=l(b.value),j=l([]),z=l(!1),{proxy:A}=e();S((()=>{const e=A.$refs.tableSearchForm?.$el;e&&$r(e,(e=>{(e=>{const t=e.clientWidth,l=d.searchColumnMinWidth;let a=Math.floor(t/l);C.value=Math.ceil(24/a);const n=24%C.value;if(n&&(C.value=n,a=24/C.value),D.value=a,_>=D.value){const e=D.value-1;k.value=b.value.slice(0,e),j.value=b.value.slice(e)}else k.value=b.value,j.value=[];const o=Math.floor(t/a);z.value=o<l})(e),r("zoomResize")}))}));const O=l(!1),T=()=>{O.value=!O.value};return()=>i(s,null,[b.value.length?i(X,{ref:"tableSearchForm",inline:!0,size:d.size,model:g,class:f.b("header")},{default:()=>[i(Z,{gutter:d.searchGutter,class:f.b("header-search")},{default:()=>[i(Bi,{searchSpan:C.value,columns:k.value,formParams:g},Li(v)?v:{default:()=>[v]}),O.value?i(Bi,{searchSpan:C.value,columns:j.value,formParams:g},Li(v)?v:{default:()=>[v]}):null,i(R,{span:C.value,class:f.b("header-search-btns")},{default:()=>[i(U,null,{default:()=>[i(J,{type:"primary",onClick:x},{icon:()=>i(N,null,{default:()=>[i(Ro,null,null)]}),default:()=>h("next.table.search")}),i(J,{onClick:w},{icon:()=>i(N,null,{default:()=>[i(ro,null,null)]}),default:()=>h("next.table.clear")}),j.value.length?z.value?i(J,{type:"primary",text:!0,bg:!0,circle:!0,class:f.b("header-search-expandBtn"),onClick:T},{icon:()=>O.value?i(Jn,null,null):i(lo,null,null)}):i(J,{type:"primary",text:!0,bg:!0,class:f.b("header-search-expandBtn"),onClick:T},{icon:()=>O.value?i(N,null,{default:()=>[i(Bn,null,null)]}):i(N,null,{default:()=>[i(Mn,null,null)]}),default:()=>O.value?h("next.table.foldSearch"):h("next.table.unfoldSearch")}):null]})]})]})]}):null])}}),Pi=r({name:"DrawerSetting",setup:()=>({visible:l(!1)}),render(){const e=t("options",{}),a=o(e)?n(e):e,r=l(a.columns),{t:s}=sn(),u=t("ns",{});return i(H,{modelValue:this.visible,"onUpdate:modelValue":e=>this.visible=e,title:s("next.table.setting.title"),"append-to-body":!0,size:"450px",class:u.b("setting-drawer")},{default:()=>[i(O,{class:u.be("setting-drawer","container")},{default:()=>[i(Q,{data:r.value,border:!0,style:{width:"100%"}},{default:()=>[i(ee,{prop:"label",label:s("next.table.setting.label"),align:"center"},{default:({row:e})=>i(kn,{content:s(e.label)},null)}),i(ee,{prop:"hide",label:s("next.table.setting.hide"),align:"center",width:"70px"},{default:({row:e})=>i(te,{modelValue:e.hide,"onUpdate:modelValue":t=>e.hide=t},null)}),i(ee,{prop:"filter",label:s("next.table.setting.filter"),align:"center",width:"70px"},{default:({row:e})=>i(te,{modelValue:e.filter,"onUpdate:modelValue":t=>e.filter=t},null)}),i(ee,{prop:"sort",label:s("next.table.setting.sort"),align:"center",width:"70px"},{default:({row:e})=>i(te,{modelValue:e.sortable,"onUpdate:modelValue":t=>e.sortable=t},null)})]})]})]})}}),Fi=r({name:"HeaderMenu",setup:()=>({}),emits:["clickAdd","clickRefresh","deleteRows"],render(){const e=t("options",{}),r=o(e)?n(e):e,{t:s}=sn(),u=t("ns",{}),c=t("multipleSelection"),d=a((()=>c.value.length)),p=l();return i("div",{class:u.b("header-menu")},[i("div",{class:u.b("header-menu-left")},[this.$slots["menu-left-prefix"]?.(),r.addBtn&&i(J,{type:"primary",onClick:()=>{this.$emit("clickAdd")}},{icon:()=>i(N,null,{default:()=>[i(To,null,null)]}),default:()=>s("next.table.add")}),r.batchDelBtn&&i(J,{type:"danger",disabled:!d.value,onClick:()=>{const e=n(_(c.value.map((e=>_(e)))));le.confirm(s("next.table.message.batchDeleteTip"),s("next.table.message.tip"),{type:"warning",showClose:!1,center:!1,confirmButtonText:s("next.table.message.confirmButtonText"),cancelButtonText:s("next.table.message.cancelButtonText")}).then((()=>{this.$emit("deleteRows",e)})).catch((()=>{z({type:"info",message:s("next.table.message.cancelBatchDelete")})}))}},{icon:()=>i(N,null,{default:()=>[i(ro,null,null)]}),default:()=>s("next.table.batchDelete")}),this.$slots["menu-left-suffix"]?.()]),i("div",{class:u.b("header-menu-right")},[this.$slots["menu-right-prefix"]?.(),r.refreshBtn&&i(J,{circle:!0,onClick:()=>{this.$emit("clickRefresh")}},{icon:()=>i(N,null,{default:()=>[i(No,null,null)]})}),r.settingBtn&&i(J,{circle:!0,onClick:()=>{p.value.visible=!0}},{icon:()=>i(N,null,{default:()=>[i(tr,null,null)]})}),this.$slots["menu-right-suffix"]?.()]),i(Pi,{ref:p},null)])}});const Ii=r({name:"TableColumnDynamic",props:{columnOption:{type:Object,default:()=>({})}},setup(e,{slots:l}){const a=t("columnSlots"),r={};a.value.forEach((e=>{r[e]=(...t)=>l[e]&&l[e](...t)}));const u=t("options",{}),c=o(u)?n(u):u,d=e.columnOption,p=Yr(d.dicKey,"value"),f=(e,t)=>{const l=t.find((t=>t[p]==e));return l?l.label:e},h=(e,t)=>{if(d.children?.length>0)return i(s,null,[d.children.map((e=>{return i(Ii,{columnOption:e},"function"==typeof(t=r)||"[object Object]"===Object.prototype.toString.call(t)&&!v(t)?r:{default:()=>[r]});var t}))]);if(l[Ai(d.prop)])return l[Ai(d.prop)]({row:e,index:t});if(d.dicData?.length>0){const t=e=>{const l=[];return e.forEach((e=>{const a={...e};if(a.children){const e=t(a.children);l.push(...e),delete a.children}l.push(a)})),l},l=t(d.dicData);return i("span",null,[f(e[d.prop],l)])}return null};return()=>i(s,null,[!d.hide&&i(ee,{prop:d.prop,label:d.label,headerAlign:d.headerAlign||c.headerAlign,align:d.align||c.cellAlign,minWidth:d.minWidth||c.columnMinWidth||"auto",width:d.width||"auto",fixed:d.fixed,sortable:d.sortable||!1,formatter:d.formatter||null,showOverflowTooltip:Yr(d.showOverflowTooltip,!0)},{default:({row:e,$index:t})=>h(e,t)})])}});var $i=r({name:"TableColumnOperations",emits:["editRow","viewRow","deleteRow"],setup(e,{emit:l,slots:r}){const u=t("options"),c=o(u)?n(u):u,{t:d}=sn(),p=a((()=>{const{operationsBtnPlain:e,operationsBtnText:t}=c;return t||e})),f=()=>{const e=c.operationsBtnText,t=c.operationsBtnPlain,a=c.operationsBtnSize;return i(ee,{fixed:"right",label:d("next.table.operation"),width:c.operationsWidth,headerAlign:c.headerAlign,align:c.cellAlign},{default:n=>i(s,null,[r["operation-column-prefix"]?.(n,{text:e,plain:t,size:a}),c.editBtn?i(A,{enterable:!1,effect:"dark",content:d("next.table.edit"),placement:"top",disabled:p.value},{default:()=>[i(J,{text:e,plain:t,class:p.value?"":"operations-btn",size:a,type:"primary",onClick:()=>(e=>{l("editRow",e)})(n)},{icon:()=>i(N,null,{default:()=>[i(co,null,null)]}),default:()=>d("next.table.edit")})]}):null,c.viewBtn?i(A,{enterable:!1,effect:"dark",content:d("next.table.view"),placement:"top",disabled:p.value},{default:()=>[i(J,{text:e,plain:t,class:p.value?"":"operations-btn",size:a,type:"primary",onClick:()=>(e=>{l("viewRow",e)})(n)},{icon:()=>i(N,null,{default:()=>[i(or,null,null)]}),default:()=>d("next.table.view")})]}):null,c.delBtn?i(A,{enterable:!1,effect:"dark",content:d("next.table.delete"),placement:"top",disabled:p.value},{default:()=>[i(J,{text:e,plain:t,class:p.value?"":"operations-btn",size:a,type:"danger",onClick:()=>(e=>{le.confirm(d("next.table.message.deleteTip"),d("next.table.message.tip"),{type:"warning",showClose:!1,center:!1,confirmButtonText:d("next.table.message.confirmButtonText"),cancelButtonText:d("next.table.message.cancelButtonText")}).then((()=>{l("deleteRow",e)})).catch((()=>{z({type:"info",message:d("next.table.message.cancelDelete")})}))})(n)},{icon:()=>i(N,null,{default:()=>[i(ro,null,null)]}),default:()=>d("next.table.delete")})]}):null,r["operation-column-suffix"]?.(n,{text:e,plain:t,size:a})])})};return()=>i(s,null,[f()])}}),Ri=r({name:"FooterPagination",props:{page:{type:Object,default:()=>{}}},emits:["change"],setup(e,{emit:l}){const a=t("options",{}),r=o(a)?n(a):a,u=e.page,c=e=>{u.pageIndex=e,l("change",u)},d=e=>{u.pageSize=e,l("change",u)};return()=>i(s,null,[i(ae,{currentPage:u.pageIndex,"onUpdate:currentPage":e=>u.pageIndex=e,pageSize:u.pageSize,"onUpdate:pageSize":e=>u.pageSize=e,total:u.total,small:"small"===r.size,layout:"total, sizes, prev, pager, next, jumper","page-sizes":Yr(u.pageSizes,[10,20,30,40,50,100]),"onCurrent-change":c,"onSize-change":d},null)])}});const Ui=je("dialog");var Wi=r({name:"NextDialog",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},fullscreen:{type:Boolean,default:!1},fullscreenBtn:{type:Boolean,default:!0},width:{type:[String,Number],default:"50%"},closeOnClickModal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},zoomSize:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},top:{type:String,default:"15vh"}},emits:["close"],setup(e,{emit:t,slots:a}){const n=l(e.modelValue);y((()=>e.modelValue),(e=>{n.value=e}));const o=()=>{n.value=!1,t("close")},r=l(e.fullscreen);return()=>i(s,null,[i(ne,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:Ui.b(),title:e.title,appendToBody:e.appendToBody,"destroy-on-close":!0,fullscreen:r.value,"lock-scroll":!0,modal:e.modal,"show-close":!1,closeOnClickModal:e.closeOnClickModal,width:e.width,top:e.top,draggable:e.draggable,destroyOnClose:e.destroyOnClose,onClose:o},{default:()=>[a.default?.()],header:({close:t,titleId:l,titleClass:a})=>i("div",{class:Ui.b("header")},[i("h4",{id:l,class:a},[e.title]),i("div",{class:Ui.e("header-right")},[e.fullscreenBtn&&i("span",{class:"icon-fullscreen",onClick:()=>r.value=!r.value},[i(N,null,{default:()=>[i(mo,null,null)]})]),i("span",{class:"icon-close",onClick:t},[i(N,{size:"18"},{default:()=>[i(Kn,null,null)]})])])])})])}});const Yi={selection:!1,selectType:"radio",addBtn:!1,viewBtn:!1,delBtn:!1,editBtn:!1,batchDelBtn:!1,dialogWidth:"60%",dialogFullscreen:!1,closeOnClickModal:!1,refreshBtn:!0,settingBtn:!0,operations:!1};var qi={size:"default",colSpan:8,labelWidth:"6em",columnMinWidth:350,columns:[],formDatum:{},tableSelectConfig:Yi,isEditing:!0,showResetBtn:!0,showFooter:!0,submitText:null,resetText:null};const Ki=je("form");var Gi=r({name:"NumberRangePicker",props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:function(){return[null,null]}},min:{type:Number,default:0},max:{type:Number,default:100},disabled:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:t}){const a=e.disabled,{t:n}=sn(),o=l(Array.isArray(e.modelValue)&&e.modelValue[0]||0),r=l(Array.isArray(e.modelValue)&&e.modelValue[1]||0),u=l(e.min),c=l(e.max),d=e=>{o.value=e,t("change",[o.value,r.value])},p=e=>{r.value=e,t("change",[o.value,r.value])},f=l(!0),h=l();S((()=>{const e=h.value;$r(e,(e=>{const t=e.clientWidth;f.value=t>200}))}));return()=>i(s,null,[i("div",{ref:h,class:Ki.e("number-range")},[i(G,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,min:u.value,max:c.value,controls:f.value,disabled:a,onChange:d},null),i("span",{class:Ki.em("number-range","division")},[n("next.date.rangeSeparator")]),i(G,{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,min:u.value,max:c.value,controls:f.value,disabled:a,onChange:p},null)])])}});const Xi=xn(Wi);function Zi(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)}const Ji=je("form"),Qi=r({name:"InputTableSelect",props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:function(){return[]}},column:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},formParams:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["select"],setup(e,{emit:t}){const{t:n}=sn(),o=e.disabled,r=e.column,u=r.placeholder||n("next.form.select")+r.label,c=Rr(ji),d=Rr(Yi),h=Ja(c,d,r.tableSelect),m=p({visible:!1,title:r.label+n("next.form.tableSelect"),dialogWidth:h.dialogWidth}),v=()=>{m.visible=!0},g=()=>{m.visible=!1},b=p({loading:!1,page:{pageIndex:1,pageSize:20,total:0},data:[]}),x=e=>{b.loading=!0,h.loadData?.(e,b.page,(e=>{b.data=e.data||[],b.page.total=e.total||0,b.loading=!1}))},w=l([]);r.tableSelectDefaultValue?.(e.formParams,r,(e=>{e?.length&&(r.tableSelectRows=e,w.value=e)}));const C=l(""),S=a((()=>"radio"===h.selectType?!C.value:0===w.value.length)),D=e=>w.value.includes(e),k=()=>{w.value=[],C.value=""},{value:j,label:z}=r.tableSelectProps||{value:"id",label:"name"},O=()=>{const e=_(w.value),l=Ur(e,j);g(),t("select",l)},T=(e,t)=>{r.addEditData?.(e,t)},M=(e,t)=>{const l=h.rowKey,a=Yr(e[l],t);return"checkbox"===h.selectType?i(te,{modelValue:D(_(e)),onChange:t=>((e,t)=>{if(e)w.value.push(t);else{const e=w.value.indexOf(t);-1!==e&&w.value.splice(e,1)}})(t,_(e))},null):i(ie,{label:a,onChange:()=>{C.value=a,w.value=[e]}},null)},E=l([]),V=l([]),N=()=>{const e=Ur(w.value,j).map((e=>({value:e[j||"value"],label:e[z||"label"]})));e.length>1?(E.value=e.splice(0,1),V.value=e):(E.value=e,V.value=[])};y((()=>r.tableSelectRows),(()=>{N()}),{deep:!0,immediate:!0});const B=(e,l)=>{const a=_(w.value);a.splice(l,1),w.value=a,N(),t("select",a)},L=()=>{let e,t;return i(s,null,[i("div",{class:["el-input",Ji.e("input-table"),Ji.is("disabled",o)]},[i("div",{class:"el-input__wrapper"},[E?.value.length?i("span",{class:Ji.em("input-table","value")},[E.value.map(((e,t)=>i(oe,{closable:!o,onClose:()=>B(0,t)},{default:()=>[e.label]}))),V?.value?.length?i(A,{"popper-class":Ji.e("tooltip-tags"),placement:"bottom",effect:"light"},{default:()=>i(oe,null,{default:()=>[f("+ "),V.value.length]}),content:()=>V.value.map(((e,t)=>i(oe,{closable:!o,onClose:()=>B(0,t+1)},{default:()=>[e.label]})))}):null]):i("span",{class:Ji.em("input-table","placeholder")},[u])]),i(J,{type:"primary",class:Ji.em("input-table","append"),disabled:o,icon:Ro,onClick:v},null)]),i(Xi,{modelValue:m.visible,"onUpdate:modelValue":e=>m.visible=e,title:m.title,closeOnClickModal:h.closeOnClickModal,width:h.dialogWidth,modal:!1,onClose:g},{default:()=>[i("div",{class:Ji.em("input-table","content")},[i(re,{modelValue:C.value},{default:()=>[i(ds,{options:h,loading:b.loading,data:b.data,page:b.page,"onConfirm-search":x,"onClick-add-edit":T},{default:()=>[i(ee,{fixed:"left",label:n("next.table.selection"),width:55,headerAlign:h.headerAlign,align:h.cellAlign},{default:({row:e,$index:t})=>M(e,t)})]})]})]),i("div",{class:Ji.em("input-table","footer")},[i(J,{onClick:k},Zi(e=n("next.form.reset"))?e:{default:()=>[e]}),i(J,{type:"primary",disabled:S.value,onClick:O},Zi(t=n("next.form.confirm"))?t:{default:()=>[t]})])]})])};return()=>i(s,null,[L()])}}),es=je("form");var ts=r({name:"UploadImage",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1},listType:{type:String,values:["text","picture","picture-card"],default:"picture-card"},accept:{type:String,default:"image/*"}},emits:["change"],setup(t){const{appContext:a}=e(),{t:n}=sn();return{t:n,appContext:a,defaultPreviewSrcList:Rr(t.modelValue),uploadfilesPreview:l([])}},render(){const e=this.$slots,t=this.$props,l=this.$emit,a=this.t,n=t.disabled,o=this.uploadfilesPreview;let r=null;return i(s,null,[(()=>{const e=this.defaultPreviewSrcList;let t=[];return"string"==typeof e?t=[e]:"[object Array]"===Object.prototype.toString.call(e)&&(t=e),t=t.filter((e=>!!e)),t.length?i(ce,{class:es.e("preview-image"),src:t[0],previewSrcList:t,"preview-teleported":!0,fit:"cover",style:{width:"146px",height:"146px"}},{default:()=>i(N,null,{default:()=>[i(jo,null,null)]})}):null})(),n?null:i(se,{class:[es.b("upload-image"),t.className],style:t.style,"list-type":t.listType,"auto-upload":!1,"on-preview":e=>{const t=document.getElementsByTagName("body")[0],l=o.value.findIndex((t=>t.url===e.url))||0;r&&(D(null,r),t.removeChild(r)),r=document.createElement("div"),t.appendChild(r);const a=i({render:()=>C(m,{to:"body"},[C(ue,{initialIndex:l,"url-list":o.value.map((e=>e.url)),onClose:()=>{D(null,r)}})])});r.appContext=this.appContext,D(a,r)},onChange:(e,t)=>{o.value=t,l("change",e,t)}},{trigger:()=>e.default?e.default():"picture-card"===t.listType?i(N,null,{default:()=>[i(To,null,null)]}):i(J,{link:!0,text:!0,type:"primary"},{default:()=>[i(N,null,{default:()=>[i(To,null,null)]}),i("em",null,[a("next.form.selectFile")])]})})])}}),ls=r({name:"NextTreeSelect",props:{modelValue:{type:[Number,String,Boolean,Object,Array],default:""},column:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},formParams:{type:Object,default:()=>({})}},emits:["change","node-click","node-contextmenu","check","check-change","node-expand","node-collapse","current-change"],setup(e,{emit:t,expose:a}){const{t:n}=sn(),o=l(e.modelValue);y((()=>e.modelValue),(e=>{o.value=e}));const r=e.column,u=Yr(r.treeSelectProps?.value,r.nodeKey,"id"),c=e.formParams,d={label:"label",children:"children"},p=r.placeholder||n("next.form.select")+r.label,f=l=>{e.formParams[r.prop]=l,o.value=l,t("change",l)},h=()=>{e.formParams[r.prop]="",o.value=""},m=(e,l)=>{t("node-click",e,l,c);const a=e[u];r.treeSelectNodeClick?.(e,l,c),f(a)},v=(...e)=>{t("node-contextmenu",...e),r.treeSelectNodeContextmenu?.(...e)},g=(e,l)=>{t("check",e,l,c),r.treeSelectCheck?.(e,l,c);const{checkedKeys:a}=l;f(a)},b=(...e)=>{t("check-change",...e),r.treeSelecCheckChange?.(...e,c)},x=(...e)=>{t("node-expand",...e),r.treeSelecNodeExpand?.(...e)},w=(...e)=>{t("node-collapse",...e),r.treeSelecNodeCollapse?.(...e)},C=(...e)=>{t("current-change",...e),r.treeSelecCurrentChange?.(...e)},S=l(),_=()=>S.value;r.loadInstance&&r.loadInstance(_()),a({getInstance:_,onClearValue:h});return()=>i(s,null,[i(de,{ref:S,modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,placeholder:p,data:Yr(r.dicData,[]),"node-key":Yr(r.nodeKey,"id"),filterable:Yr(r.filterable,!0),"show-checkbox":Yr(r.showCheckbox,!1),"leaf-only":Yr(r.leafOnly,!1),"render-after-expand":Yr(r.renderAfterExpand,!0),"check-strictly":Yr(r.checkStrictly,!1),disabled:Yr(e.disabled,!1),clearable:Yr(r.clearable,!0),accordion:Yr(r.accordion,!1),multiple:Yr(r.multiple,!1),"collapse-tags":!0,"collapse-tags-tooltip":!0,props:Yr(r.treeSelectProps,d),"value-key":u,"onNode-click":m,"onNode-contextmenu":v,onCheck:g,"onCheck-change":b,"onNode-expand":x,"onNode-collapse":w,"onCurrent-change":C,onClear:h},null)])}});const as=je("form");var ns=r({name:"NextForm",props:{options:{type:Object,default:()=>({})},columns:{type:Array,default:()=>[]},formDatum:{type:Object,default:()=>({})}},emits:["submit","close","reset"],setup(e,{slots:t,emit:n,expose:o}){const r=Rr(qi),u=p(Ja(r,e.options)),c=a((()=>"boolean"!=typeof u.isEditing||u.isEditing)),{t:d}=sn(),f=l(u.colSpan),h=p(e.formDatum)||{},m=p(Ja({},h)),g=l([]),b=p({});y((()=>[e.columns,e.formDatum]),(()=>{(()=>{const t=e.columns;g.value=t;for(let e=0;e<t.length;e++){const l=t[e],a=h[l.prop];Wr(a)?m[l.prop]=a:m[l.prop]=Wr(l.defaultValue)?l.defaultValue:"";const n=[],{label:o}=l;l.required&&n.push({required:!0,message:o+d("next.form.requiredInput"),trigger:["blur","change"]}),l.rules?.length&&n.push(...l.rules),b[l.prop]=n,!l.dicData?.length&&l.loadDicData&&l.loadDicData(l,(e=>{e?.length&&(l.dicData=e)})),"boolean"==typeof l.disabled&&l.disabled||(l.disabled=!c.value)}})()}),{deep:!0,immediate:!0});const x=Ur(g.value,"prop");S((()=>{const e=w.value?.$el;let t=null;$r(e,(e=>{null!==t&&clearTimeout(t),t=setTimeout((()=>{f.value=((e,t=350)=>{const l=e.clientWidth;let a=Math.floor(l/t);return a>4&&(a=4),Math.ceil(24/a)})(e,u.columnMinWidth),clearTimeout(t)}),200)}))}));const w=l(),C=l(!1),D=async()=>{const e=w.value;e&&await e.validate(((e,t)=>{if(e){const e=_(m);C.value=!0,n("submit",e,(()=>{C.value=!1,n("close")}),(()=>{C.value=!1}))}}))},k=()=>{const e=w.value;e&&(e.resetFields(),C.value=!1,n("reset",m))},j=e=>e.getTime()>Date.now(),z=[{text:d("next.date.oneWeekAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:d("next.date.oneMonthAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:d("next.date.threeMonthsAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}},{text:d("next.date.oneYearAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-31536e6),[t,e]}},{text:d("next.date.threeYearsAge"),value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-94608e6),[t,e]}}],O=e=>{if(t[Ei(e.prop)])return t[Ei(e.prop)]({column:e,formParams:m});if("input"===e.type||!e.type){const t=e.placeholder||d("next.form.input")+e.label;return i(W,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,clearable:!0,readonly:Yr(e.readonly,!1),disabled:e.disabled,placeholder:t,onChange:t=>e.onChange?.(t,e,m,x)},{prefix:e.prefix?()=>e.prefix(m,e):null,suffix:e.suffix?()=>e.suffix(m,e):null,prepend:e.prepend?()=>e.prepend(m,e):null,append:e.append?()=>e.append(m,e):null})}if("password"===e.type){const t=e.placeholder||d("next.form.input")+e.label;return i(W,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,type:"password",clearable:!0,"show-password":!0,readonly:Yr(e.readonly,!1),disabled:e.disabled,placeholder:t,onChange:t=>e.onChange?.(t,e,m,x)},{prefix:e.prefix?()=>e.prefix(m,e):null,suffix:e.suffix?()=>e.suffix(m,e):null,prepend:e.prepend?()=>e.prepend(m,e):null,append:e.append?()=>e.append(m,e):null})}if("inputInteger"===e.type){const t=e.placeholder||d("next.form.input")+e.label;return i(W,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,clearable:!0,readonly:Yr(e.readonly,!1),disabled:e.disabled,placeholder:t,onInput:t=>((e,t)=>{const l=e.replace(/\D/g,"");m[t]=l?Number(l):""})(t,e.prop),onChange:t=>e.onChange?.(t,e,m,x)},{prefix:e.prefix?()=>e.prefix(m,e):null,suffix:e.suffix?()=>e.suffix(m,e):null,prepend:e.prepend?()=>e.prepend(m,e):null,append:e.append?()=>e.append(m,e):null})}if("inputNumber"===e.type){const t=e.placeholder||d("next.form.input")+e.label;return i(W,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,clearable:!0,readonly:Yr(e.readonly,!1),disabled:e.disabled,placeholder:t,onInput:t=>((e,t)=>{let l=e;l=l.replace(/[^0-9\.]/g,""),l=l.replace(/^\./,"0."),l=l.replace(/\.{2,}/g,"."),l=l.replace(".","DUMMY"),l=l.replace(/\./g,""),l=l.replace("DUMMY","."),m[t]=Number(l)})(t,e.prop),onChange:t=>e.onChange?.(t,e,m,x)},{prefix:e.prefix?()=>e.prefix(m,e):null,suffix:e.suffix?()=>e.suffix(m,e):null,prepend:e.prepend?()=>e.prepend(m,e):null,append:e.append?()=>e.append(m,e):null})}if("textarea"===e.type){const t=e.placeholder||d("next.form.input")+e.label;return i(W,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,type:"textarea",clearable:!0,readonly:Yr(e.readonly,!1),disabled:e.disabled,placeholder:t,onChange:t=>e.onChange?.(t,e,m,x)},{prefix:e.prefix?()=>e.prefix(m,e):null,suffix:e.suffix?()=>e.suffix(m,e):null,prepend:e.prepend?()=>e.prepend(m,e):null,append:e.append?()=>e.append(m,e):null})}if("select"===e.type){const t=e.placeholder||d("next.form.select")+e.label;return i(Y,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,placeholder:t,clearable:!0,disabled:e.disabled,multiple:Yr(e.multiple,!1),"collapse-tags-tooltip":!0,onChange:t=>e.onChange?.(t,e,m,x)},{default:()=>[e.dicData&&e.dicData.map((e=>i(q,{key:e.value,value:e.value,label:e.label,disabled:Yr(e.disabled,!1)},null)))]})}if("time"===e.type){const t=e.placeholder||d("next.form.select")+e.label;return i(pe,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,start:"00:00",step:"00:30",end:"23:59",editable:!1,disabled:e.disabled,placeholder:t,onChange:t=>e.onChange?.(t,e,m,x)},{prefix:()=>e.prefix?e.prefix(m,e):null,suffix:()=>e.suffix?e.suffix(m,e):null})}if("radio"===e.type)return i(re,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,disabled:e.disabled,onChange:t=>e.onChange?.(t,e,m,x)},{default:()=>[e.dicData&&e.dicData.map((e=>i(ie,{key:e.value,label:e.value,disabled:Yr(e.disabled,!1)},{default:()=>[e.label]})))]});if("checkbox"===e.type)return Wr(m[e.prop])||(m[e.prop]=[]),i(fe,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,disabled:e.disabled,onChange:t=>e.onChange?.(t,e,m,x)},{default:()=>[e.dicData&&e.dicData.map((e=>i(te,{key:e.value,label:e.value,disabled:Yr(e.disabled,!1)},{default:()=>[e.label]})))]});if("date"===e.type){const t=e.placeholder||d("next.form.select")+e.label;return i(K,{modelValue:m[e.prop],"onUpdate:modelValue":[t=>m[e.prop]=t,t=>e.onChange?.(t,e,m,x)],placeholder:t,type:"date",valueFormat:e.format||"YYYY-MM-DD",format:e.format||"YYYY-MM-DD",clearable:!0,disabledDate:e.disabledDate||j,disabled:e.disabled,editable:e.editable},null)}if("datetime"===e.type){const t=e.placeholder||d("next.form.select")+e.label;return i(K,{modelValue:m[e.prop],"onUpdate:modelValue":[t=>m[e.prop]=t,t=>e.onChange?.(t,e,m,x)],placeholder:t,type:"datetime",valueFormat:e.format||"YYYY-MM-DD HH:mm:ss",format:e.format||"YYYY-MM-DD HH:mm:ss",clearable:!0,disabledDate:e.disabledDate||j,disabled:e.disabled,editable:e.editable},null)}if("datetimerange"===e.type){const t=e.placeholder||d("next.form.select")+e.label;return i(K,{modelValue:m[e.prop],"onUpdate:modelValue":[t=>m[e.prop]=t,t=>e.onChange?.(t,e,m,x)],placeholder:t,type:"datetimerange",valueFormat:e.format||"YYYY-MM-DD HH:mm:ss",format:e.format||"YYYY-MM-DD HH:mm:ss",clearable:!0,"range-separator":d("next.date.rangeSeparator"),"start-placeholder":d("next.date.startPlaceholder"),"end-placeholder":d("next.date.endPlaceholder"),disabledDate:e.disabledDate||j,disabled:e.disabled,editable:e.editable,shortcuts:e.shortcuts||z},null)}return"numberRange"===e.type?i(Gi,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,disabled:e.disabled,onChange:t=>{return l=t,a=e.prop,Array.isArray(m[a])||(m[a]=[]),void(m[a]=Number(l));var l,a}},null):"inputTableSelect"===e.type?i(Qi,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,formParams:m,column:e,disabled:e.disabled,onSelect:t=>((e,t)=>{e&&(t.tableSelectRows=e);const{value:l}=t.tableSelectProps||{};m[t.prop]=e.map((e=>e[l||"value"])),t.onTableSelect?.(m,e,t)})(t,e)},null):"uploadImage"===e.type?i(ts,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,disabled:e.disabled,onChange:(...t)=>e.onChange?.(...t,e,m,x)},null):"treeSelect"===e.type?i(ls,{modelValue:m[e.prop],"onUpdate:modelValue":t=>m[e.prop]=t,disabled:e.disabled,column:e,formParams:m},null):void 0};o({formParams:_(m),ruleFormRef:w,formColumns:x,getFormInstance:()=>w.value,getFormParams:()=>_(m)});const T=()=>{let e;return i(X,{ref:w,class:as.b(),inline:!1,model:m,size:u.size},{default:()=>{return[i(Z,{gutter:20},(t=e=x.map((e=>!e.hide&&i(R,{span:Yr(e.span,f.value)},{default:()=>[i(U,{prop:e.prop,required:e.required,rules:b[e.prop],style:{"--form-label-width":Yr(u.formLabelWidth,u.labelWidth)}},{label:()=>e.label?i(s,null,[i(kn,{content:d(e.label),class:as.e("item-label")},null),e.tip?i(A,{effect:"dark",content:e.tip,placement:"top"},{default:()=>[i(N,{style:{"margin-left":"5px"},color:"#f3d19e"},{default:()=>[i(yo,null,null)]})]}):null]):null,default:()=>O(e)})]}))),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!v(t)?e:{default:()=>[e]})),c.value&&u.showFooter?i("div",{class:as.e("footer")},[i(J,{type:"primary",loading:C.value,onClick:D},{default:()=>[d(u.submitText)||d("next.form.submit")]}),u.showResetBtn?i(J,{onClick:k},{default:()=>[d(u.resetText)||d("next.form.reset")]}):null]):null];var t}})};return()=>i(s,null,[T()])}});const os=xn(ls),rs=xn(ns);var is=r({name:"AddEditForm",props:{formDatum:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]}},emits:["close","submit"],setup(e,{slots:a,emit:r,expose:u}){const c=t("addEditFormSlots"),d={};c.value.forEach((e=>{d[e]=(...t)=>a[e]&&a[e](...t)}));const p=t("options",{}),f=Rr(o(p)?n(p):p);f.columnMinWidth=f.formColumnMinWidth,f.isEditing=e.isEditing;const h=l(),m=Rr(o(e.formDatum)?n(e.formDatum):e.formDatum),g=Rr(e.columns).map((e=>(e.hide=Yr(e.formHide,e.hide,!1),e))),b=(...e)=>{r("submit",...e)};u({getFormExpose:()=>({formParams:h.value?.formParams,formColumns:h.value?.formColumns})});const y=()=>{return i(rs,{ref:h,options:f,columns:g,formDatum:m,onClose:()=>r("close"),onSubmit:b},"function"==typeof(e=d)||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)?d:{default:()=>[d]});var e};return()=>i(s,null,[y()])}});function ss(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)}const us=je("crud-table");var cs=r({name:"NextCrudTable",props:_i,emits:["confirm-search","clear-search","change-pagination","selection-change","row-click","row-contextmenu","row-dblclick","cell-click","cell-dblclick","cell-contextmenu","cell-mouse-enter","cell-mouse-leave","expand-change","click-add-edit","close-add-edit","view-add-edit","delete-rows","delete-row","submit-form"],setup(e,{emit:t,slots:o,expose:r}){const u=Rr(ji),c=a((()=>{const t=n(e.options);return Ja(u,t)})),d=n(c);b("options",a((()=>c.value))),b("ns",us);const{t:f}=sn(),h=l(d.columns),m=l([]),v=l([]),x=e=>{((e,t)=>{const l=p(e.columns),a=e=>{!e.dicData?.length&&e.loadDicData&&e.loadDicData(e,(t=>{t?.length&&(e.dicData=t)}))},n=e=>{let t=[];return e.forEach((e=>{a(e),t.push(e),e.children?.length&&(t.push(...n(e.children)),e.children&&delete e.children)})),t},o=n(l),r=e.formColumns.map((e=>(a(e),e))),i=o.concat(r).map((e=>{const t={prop:e.prop,label:Yr(e.formLabel,e.label,""),type:Yr(e.formType,e.type,""),defaultValue:Yr(e.formDefaultValue,e.defaultValue,""),placeholder:Yr(e.formPlaceholder,""),required:Yr(e.formRequired,e.required,!1),sort:Yr(e.formSort,e.sort,null),prefix:Yr(e.formPrefix,e.prefix,null),suffix:Yr(e.formSuffix,e.suffix,null),prepend:Yr(e.formPrepend,e.prepend,null),append:Yr(e.formAppend,e.append,null),hide:Yr(e.formHide,e.hide,!1),disabled:Yr(e.formDisabled,e.disabled,!1),clearable:Yr(e.formClearable,e.clearable,!1),readonly:Yr(e.formReadonly,e.readonly,!1),tip:Yr(e.formTip,e.tip,null),rules:Yr(e.formRules,e.rules,null),span:Yr(e.formSpan,e.span,null),multiple:Yr(e.formMultiple,e.multiple,!1),dicData:Yr(e.formDicData,e.dicData,[]),loadDicData:Yr(e.formLoadDicData,e.loadDicData,null),onChange:Yr(e.onChangeForm,e.onChange,null),tableSelect:Yr(e.tableSelect,{}),tableSelectRows:Yr(e.tableSelectRows,[]),tableSelectProps:Yr(e.tableSelectProps,null),tableSelectDefaultValue:Yr(e.tableSelectDefaultValue,null),onTableSelect:Yr(e.onTableSelect,null),filterable:Yr(e.filterable,!1),nodeKey:Yr(e.formNodeKey,e.nodeKey),accordion:Yr(e.formAccordion,e.accordion,!1),leafOnly:Yr(e.formLeafOnly,e.leafOnly,!1),showCheckbox:Yr(e.formShowCheckboxn,e.showCheckbox,!1),checkStrictly:Yr(e.formCheckStrictly,e.checkStrictly,!1),renderAfterExpand:Yr(e.formRenderAfterExpand,e.renderAfterExpand,!1),treeSelectProps:Yr(e.formTreeSelectProps,e.treeSelectProps,null),treeSelectNodeClick:Yr(e.treeSelectNodeClickForm,e.treeSelectNodeClick,null),treeSelectNodeContextmenu:Yr(e.treeSelectNodeContextmenuForm,e.treeSelectNodeContextmenu,null),treeSelectCheck:Yr(e.treeSelectCheckForm,e.treeSelectCheck,null),treeSelecCheckChange:Yr(e.treeSelecCheckChangeForm,e.treeSelecCheckChange,null),treeSelecNodeExpand:Yr(e.treeSelecNodeExpandForm,e.treeSelecNodeExpand,null),treeSelecNodeCollapse:Yr(e.treeSelecNodeCollapseForm,e.treeSelecNodeCollapse,null),treeSelecCurrentChange:Yr(e.treeSelecCurrentChangeForm,e.treeSelecCurrentChange,null)};return!e.dicData?.length&&e.loadDicData&&qr(t,e,"dicData"),t})).filter((e=>e.sort&&e.prop)).sort(((e,t)=>e.sort-t.sort)),s=(e,t)=>{const l={prop:e.prop,type:Yr(e.searchType,e.type),label:Yr(e.searchLabel,e.label),defaultValue:Yr(e.searchDefaultValue,e.defaultValue,null),placeholder:Yr(e.searchPlaceholder,e.placeholder,null),dicData:Yr(e.searchDicData,e.dicData,[]),loadDicData:Yr(e.searchLoadDicData,e.loadDicData,null),disabled:Yr(e.searchDisabled,e.disabled,!1),readonly:Yr(e.searchReadonly,e.readonly,!1),prefix:Yr(e.searchPrefix,e.prefix,null),suffix:Yr(e.searchSuffix,e.suffix,null),prepend:Yr(e.searchPrepend,e.prepend,null),append:Yr(e.searchAppend,e.append,null),hide:Yr(e.searchHide,!1),sort:Yr(e.searchSort,e.sort,t),nodeKey:Yr(e.searchNodeKey,e.nodeKey),accordion:Yr(e.searchAccordion,e.accordion,!1),leafOnly:Yr(e.searchLeafOnly,e.leafOnly,!1),showCheckbox:Yr(e.searchShowCheckboxn,e.showCheckbox,!1),checkStrictly:Yr(e.searchCheckStrictly,e.checkStrictly,!1),renderAfterExpand:Yr(e.searchRenderAfterExpand,e.renderAfterExpand,!1),treeSelectProps:Yr(e.searchTreeSelectProps,e.treeSelectProps,null),treeSelectNodeClick:Yr(e.treeSelectNodeClickSearch,e.treeSelectNodeClick,null),treeSelectNodeContextmenu:Yr(e.treeSelectNodeContextmenuSearch,e.treeSelectNodeContextmenu,null),treeSelectCheck:Yr(e.treeSelectCheckSearch,e.treeSelectCheck,null),treeSelecCheckChange:Yr(e.treeSelecCheckChangeSearch,e.treeSelecCheckChange,null),treeSelecNodeExpand:Yr(e.treeSelecNodeExpandSearch,e.treeSelecNodeExpand,null),treeSelecNodeCollapse:Yr(e.treeSelecNodeCollapseSearch,e.treeSelecNodeCollapse,null),treeSelecCurrentChange:Yr(e.treeSelecCurrentChangeSearch,e.treeSelecCurrentChange,null)};return!e.dicData?.length&&e.loadDicData&&qr(l,e,"dicData"),l},u=e.searchColumns.map(((e,t)=>(a(e),s(e,t)))),c=u.length,d=u.concat((e=>{let t=[];return e.forEach(((e,l)=>{e.searchType&&t.push(s(e,l+c))})),t})(o)),f=Ur(d.sort(((e,t)=>e.sort-t.sort)),"prop");t&&t({formColumns:i,searchColumns:f,columns:l})})(e,(({formColumns:e,searchColumns:t,columns:l})=>{m.value=t,v.value=e,h.value=l}))},w=l(e.data),C=l((()=>{const e=m.value;let t={};for(let l=0;l<e.length;l++){const a=e[l];Wr(a.defaultValue)&&(t[a.prop]=a.defaultValue)}return t})()),D=l=>{const a=Rr(_(l));$a(C.value,a)||(e.page.pageIndex=1,C.value=a),t("confirm-search",a)},j=()=>{t("clear-search")},z=()=>{D(C.value)};y((()=>e.data),(e=>{w.value=e}),{immediate:!0}),y((()=>c),(e=>{x(e.value)}),{deep:!0,immediate:!0});const A=l(d.defaultContentHeight),O=l(),T=l(),M=l(),E=l(),V=l(null),N=()=>{k((()=>{const e=(O.value?.clientHeight||0)-((T.value?.clientHeight||0)+(E.value?.clientHeight||0));A.value=e}))},B=e=>{"F11"!==e.key&&"fullscreenchange"!==e.type||N()};S((()=>{$r(O.value,(()=>{N()})),d.initLoadData&&D(C.value),d.fullscreenchangeContentHeight&&(document.addEventListener("fullscreenchange",B),document.addEventListener("keydown",B))})),g((()=>{d.fullscreenchangeContentHeight&&(document.removeEventListener("fullscreenchange",B),document.removeEventListener("keydown",B))}));const L=l=>{e.page.pageIndex=l.pageIndex,e.page.pageSize=l.pageSize,t("change-pagination",l),D(C.value)},H=l([]),P=e=>{H.value=e,t("selection-change",H.value)};b("multipleSelection",H);const F=p({visible:!1,title:f("next.table.add"),rowInfo:{},isEditing:!0}),I=(e={})=>{const{dialogTitle:l}=d;F.isEditing=!0,F.title=l+" "+f("next.table.add"),F.rowInfo=e,t("click-add-edit",e),k((()=>{F.visible=!0}))},$=e=>{t("delete-rows",e,(()=>{z()}))},R=e=>{t("delete-row",e,(()=>{z()}))},U=e=>{const{dialogTitle:l}=d;F.isEditing=!0,F.title=l+" "+f("next.table.edit"),F.rowInfo=e.row,t("click-add-edit",e.row),k((()=>{F.visible=!0}))},W=e=>{const{dialogTitle:l}=d;F.isEditing=!1,F.title=l+" "+f("next.table.view"),F.rowInfo=e.row,t("view-add-edit",e.row),k((()=>{F.visible=!0}))},Y=()=>{F.visible=!1,F.title="",F.rowInfo={},t("close-add-edit")},q=(...e)=>{t("submit-form",...e)},K=l([]),G=l([]),X=l([]);for(const e in o)e.includes(zi)?K.value.push(e):e.includes(Oi)?G.value.push(e):e.includes(Mi)&&X.value.push(e);b("columnSlots",K),b("searchFormSlots",G),b("addEditFormSlots",X);const Z=t=>{const{pageIndex:l,pageSize:a}=e.page;return(l-1)*a+(t+1)},J=a((()=>{const{total:t}=e.page,l=document.createElement("span");l.innerText=t,l.style.visibility="hidden",document.body.appendChild(l);const a=l.getBoundingClientRect().width,n=Math.ceil(a)+25;return document.body.removeChild(l),n>50?n:50})),te={};G.value.forEach((e=>{te[e]=(...t)=>o[e]&&o[e](...t)}));const le={};K.value.forEach((e=>{le[e]=(...t)=>o[e]&&o[e](...t)}));const ae={};X.value.forEach((e=>{ae[e]=(...t)=>o[e]&&o[e](...t)}));const ne={};Di.forEach((e=>{ne[e]=(...t)=>o[e]&&o[e](...t)}));const oe={};ki.forEach((e=>{oe[e]=(...t)=>o[e]&&o[e](...t)}));r({onClickRowAdd:I,columns:h.value,getFormExpose:()=>V.value?.getFormExpose(),updateColumns:e=>{x(e)}});return()=>i(s,null,[i(s,null,[i("div",{ref:O,class:[us.b(),e.className],style:e.style},[d.showSearchForm||d.showHeaderMenu?i("header",{ref:T,class:us.b("header")},[d.showSearchForm&&i(Hi,{columns:m.value,onZoomResize:N,onConfirmSearch:D,onClearSearch:j},ss(te)?te:{default:()=>[te]}),d.showHeaderMenu&&i(Fi,{onClickAdd:I,onDeleteRows:$,onClickRefresh:z},ss(ne)?ne:{default:()=>[ne]}),o["table-head-tip"]?.()]):null,i(Ni,{loading:e.loading},{default:()=>[i("div",{ref:M,class:us.b("content")},[i(Q,{data:w.value,height:A.value,rowKey:d.rowKey,border:d.border,stripe:d.stripe,fit:d.fit,size:d.size,"row-style":d.rowStyle,"row-class-name":d.rowClassName,"cell-style":d.cellStyle,"cell-class-name":d.cellClassName,"header-row-style":d.headerRowStyle,"header-row-class-name":d.headerRowClassName,"header-cell-style":d.headerCellStyle,"header-cell-class-name":d.headerCellClassName,"span-method":e.spanMethod,"onSelection-change":P,"onRow-click":(...e)=>t("row-click",...e),"onRow-contextmenu":(...e)=>t("row-contextmenu",...e),"onRow-dblclick":(...e)=>t("row-dblclick",...e),"onCell-click":(...e)=>t("cell-click",...e),"onCell-dblclick":(...e)=>t("cell-dblclick",...e),"onCell-contextmenu":(...e)=>t("cell-contextmenu",...e),"onCell-mouse-enter":(...e)=>t("cell-mouse-enter",...e),"onCell-mouse-leave":(...e)=>t("cell-mouse-leave",...e),"onExpand-change":(...e)=>t("expand-change",...e)},{default:()=>[d.index?i(ee,{type:"index",label:"#",width:J.value,index:Z,fixed:"left",headerAlign:d.headerAlign,align:d.cellAlign},null):null,d.selection?i(ee,{type:"selection",fixed:"left",label:f("next.table.selectionAll"),width:55,headerAlign:d.headerAlign,align:d.cellAlign},null):null,o.default?.(),h.value.map((e=>i(Ii,{columnOption:e,key:e.prop},ss(le)?le:{default:()=>[le]}))),d.operations?i($i,{onEditRow:U,onViewRow:W,onDeleteRow:R},ss(oe)?oe:{default:()=>[oe]}):null],empty:()=>i(he,{imageSize:A.value>220?100:50,description:f("next.table.notData")},null)})])]}),d.isPagination?i("div",{ref:E,class:us.b("footer")},[i(Ri,{page:e.page,onChange:L},null),o["table-footer-tip"]?.()]):null,i(Wi,{modelValue:F.visible,"onUpdate:modelValue":e=>F.visible=e,title:F.title,width:d.dialogWidth,fullscreen:d.dialogFullscreen,closeOnClickModal:d.closeOnClickModal,onClose:Y},{default:()=>i(is,{ref:V,formDatum:F.rowInfo,columns:v.value,isEditing:F.isEditing,onClose:Y,onSubmit:q},ss(ae)?ae:{default:()=>[ae]})})])])])}});const ds=xn(cs);var ps={className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},data:{type:Array,default:()=>[]},page:{type:Object,default:()=>({pageIndex:1,pageSize:10,total:0})}},fs={};const hs=je("crud-table-virtualized");const ms=xn(r({name:"NextCrudTableVirtualized",props:ps,setup(e,{emit:t}){const l=Rr(fs),o=a((()=>{const t=n(e.options);return Ja(l,t)})),r=n(o);b("options",a((()=>o.value)));const{t:u}=sn(),c=p({visible:!1,title:u("next.table.add"),rowInfo:{},isEditing:!0}),d=()=>{c.visible=!1,c.title="",c.rowInfo={},t("close-add-edit")};return()=>i(s,null,[i("div",{class:[hs.b(),e.className]},[i(vs,null,null),i(Xi,{modelValue:c.visible,"onUpdate:modelValue":e=>c.visible=e,title:c.title,width:r.dialogWidth,fullscreen:r.dialogFullscreen,closeOnClickModal:r.closeOnClickModal,onClose:d},null)])])}})),vs=xn(Ni),gs=je("upload");const bs=xn(r({name:"NextUpload",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},listType:{type:String,values:["text","picture","picture-card"],default:"picture-card"},accept:{type:String,default:"image/*"}},emits:["change"],setup(){const{appContext:t}=e(),{t:l}=sn();return{t:l,appContext:t}},render(){const e=this.$slots,t=this.$props,a=this.$emit,n=this.t,o=l([]),r=document.getElementsByTagName("body")[0];let s=null;return i(se,{class:[gs.b(),t.className],style:t.style,"list-type":t.listType,"auto-upload":!1,"on-preview":e=>{const t=o.value.findIndex((t=>t.url===e.url))||0;s&&(D(null,s),r.removeChild(s)),s=document.createElement("div"),r.appendChild(s);const l=i({render:()=>C(m,{to:"body"},[C(ue,{initialIndex:t,"url-list":o.value.map((e=>e.url)),onClose:()=>{D(null,s)}})])});s.appContext=this.appContext,D(l,s)},onChange:(e,t)=>{o.value=t,a("change",e,t)}},{trigger:()=>e.default?e.default():"picture-card"===t.listType?i(N,null,{default:()=>[i(To,null,null)]}):i(J,{link:!0,text:!0,type:"primary"},{default:()=>[i(N,null,{default:()=>[i(To,null,null)]}),i("em",null,[n("next.form.selectFile")])]})})}})),ys=je("video-player");var xs=r({name:"NextVideoPlayer",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},type:{type:String,default:"mp4",values:["mp4","m3u8","flv","mpegts"]},src:{type:String,default:""},autoplay:{type:Boolean,default:!0},tensorflow:{type:Object}},emits:["loaded","play","error","detector"],setup(e,{emit:t,expose:a}){const{lang:n}=sn(),o={"zh-cn":xe,en:we,"zh-tw":Ce};o[n.value]?ye.addLanguage("zh-CN",o[n.value]):ye.addLanguage("zh-CN",xe);const r=_(e.src),u=l(),c=l(),d=l(),p=l(),f=l(),h=l(null),m=l(null),v=e=>{const t=i({render:()=>C("span",{class:"screemshot-btn",onClick:()=>((e,t)=>{const l=me(ve(),"YYYY-MM-DD_HH-mm-ss").value,a=e.el().getElementsByTagName("video")[0],n=document.createElement("canvas"),o=a.videoWidth,r=a.videoHeight;n.width=o,n.height=r;const i=n.getContext("2d"),s=o/r,u=n.width/n.height,c=o,d=r;let p,f,h,m;s>u?(h=n.width,m=n.width/s,p=0,f=Math.round((n.height-m)/2)):s===u?(h=n.width,m=n.height,p=0,f=0):s<u&&(h=n.height*s,m=n.height,p=Math.round((n.width-h)/2),f=0),i.drawImage(a,0,0,c,d,p,f,h,m),t&&i.drawImage(t,0,0);const v="image/png";let g=n.toDataURL(v,.92).replace(v,"image/octet-stream");g=g.replace(/^data:image\/[^;]+/,"data:application/octet-stream");const b=document.createElement("a");b.href=g,b.download=l+"_screenshot.png",b.click()})(d.value,m.value)},[C(N,{color:"#FFFFFF",size:"22px"},{default:()=>C(Un)})])});d.value.on("loadedmetadata",(()=>{D(t,e)}))},b=(t,l)=>{if(!e.tensorflow)return;const{modelUrl:a,classNames:n}=e.tensorflow;if(!a)throw new Error("模型文件地址不能未空！");if(!n||!n.length)throw new Error("模型类别不能未空！");t.innerHTML="",be.loadGraphModel(a).then((e=>{const a=document.createElement("canvas");a.className=ys.b("recongition"),t.appendChild(a);const o=a.getContext("2d"),r=document.createElement("canvas").getContext("2d");l.ontimeupdate=()=>{const{videoWidth:t,videoHeight:i,offsetTop:s,offsetLeft:u}=l;a.width=t,a.height=i,a.style.top=s+"px",a.style.left=u+"px",gn(l,e,o,be,n,[],r)},h.value=e,m.value=a}))};g((()=>{h.value&&(be.dispose(),h.value.dispose(),h.value=null),d.value&&(d.value.mse&&(d.value.mse.endOfStream(),d.value.mse.unload(),d.value.mse=null),d.value.pause(),d.value.dispose(),d.value=null),p.value&&(p.value.pause(),p.value.unload(),p.value.detachMediaElement(),p.value.destroy(),p.value=null),f.value&&(f.value.pause(),f.value.unload(),f.value.detachMediaElement(),f.value.destroy(),f.value=null),u.value&&D(null,u.value)}));const y=l=>{if(!l)return(()=>{const l=u.value,a=document.createElement("video");a.className="video-js vjs-default-skin",e.autoplay&&a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),c.value=a,l.appendChild(a),d.value=ye(a,{techOrder:["html5"],controls:!0,fluid:!0,preload:"auto",language:"zh-CN",sources:[]});const n=document.createElement("div");l.children[0].appendChild(n),d.value.on("play",(()=>{t("play",a,l),b(n,a)})),v(l),t("loaded",{player:d.value,video:a})})(),!1;const a=e.type;"m3u8"===a?(l=>{const a=u.value,n=document.createElement("video");n.className="video-js vjs-default-skin",e.autoplay&&n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),c.value=n,a.appendChild(n);const o={techOrder:["html5"],flvjs:{mediaDataSource:{cors:!0,withCredentials:!1}},controls:!0,fluid:!0,preload:"auto",language:"zh-CN",sources:[{src:l,type:"application/x-mpegURL"}]};d.value=ye(n,o);const r=document.createElement("div");a.children[0].appendChild(r),d.value.on("play",(()=>{t("play",n,a),b(r,n)})),v(a),t("loaded",{player:d.value,video:n})})(l):"mp4"===a?(l=>{const a=u.value,n=document.createElement("video");n.className="video-js vjs-default-skin",e.autoplay&&n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),c.value=n,a.appendChild(n);const o={techOrder:["html5"],controls:!0,fluid:!0,preload:"auto",language:"zh-CN",sources:[{src:l,type:"video/mp4"}]};d.value=ye(n,o);const r=document.createElement("div");a.children[0].appendChild(r),d.value.on("play",(()=>{t("play",n,a),b(r,n)})),v(a),t("loaded",{player:d.value,video:n})})(l):"mpegts"===a?(async l=>{let a=window.mpegts;if(a||(a=await import("mpegts.js")),a&&a.getFeatureList().mseLivePlayback){const n=u.value,o=document.createElement("video");o.className="video-js vjs-default-skin",e.autoplay&&o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),c.value=o,n.appendChild(o);const r={controls:!0,autoplay:!1,fluid:!0,muted:!0,liveui:!0,preload:"auto",language:"zh-CN"};d.value=ye(o,r),f.value=a.createPlayer({enableWorker:!0,type:"flv",isLive:!0,url:l}),f.value.attachMediaElement(o),f.value.load(),f.value.on("error",(()=>{t("error",o)})),v(n);const i=document.createElement("div");n.children[0].appendChild(i),f.value.on("metadata_arrived",(()=>{t("play",o,n),b(i,o)})),t("loaded",{player:d.value,video:o})}})(l):"flv"===a&&(async l=>{let a=window.flvjs;a||(a=await import("flv.js"));const n=u.value,o=document.createElement("video");o.className="video-js vjs-default-skin",e.autoplay&&o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),c.value=o,n.appendChild(o),d.value=ye(o,{techOrder:["html5","flvjs"],flvjs:{mediaDataSource:{cors:!0,withCredentials:!1}},controls:!0,fluid:!0,preload:"auto",language:"zh-CN"}),a.isSupported()&&(p.value=a.createPlayer({type:"flv",url:l}),p.value.attachMediaElement(o),p.value.load());const r=document.createElement("div");n.children[0].appendChild(r),d.value.on("play",(()=>{t("play",o,n),b(r,o)})),v(n),t("loaded",{player:d.value,video:o})})(l)};S((()=>{k((()=>{y(r)}))}));a({getElement:()=>{const e=u.value,t=e.children[0];return{videoElement:c.value,container:e,palyerContainer:t}}});return()=>i(s,null,[i("div",{ref:u,class:[ys.b(),e.className],style:e.style},null)])}});const ws=xn(xs);const Cs=xn(r({name:"NextDragResize",props:{},setup:()=>()=>i(s,null,[i(s,null,null)])}));var Ss=Object.freeze({__proto__:null,NextContainer:Si,NextCrudTable:ds,NextCrudTableVirtualized:ms,NextDialog:Xi,NextDragResize:Cs,NextForm:rs,NextLayout:bi,NextMenu:Zr,NextSpinLoading:vs,NextTabs:wi,NextTextEllipsis:kn,NextTreeSelect:os,NextUpload:bs,NextVideoPlayer:ws});const _s=e=>{e.directive("zoom",{mounted(e,t){if(!t.value)return!1;const l="string"==typeof(a=t.value)||!Ue(a)&&Ie(a)&&"[object String]"==Fe(a)?[t.value,".el-dialog__body",!1,!0]:t.value;var a;l[1]=l[1]?l[1]:".el-dialog__body",l[2]=void 0!==l[2]&&l[2],l[3]=void 0===l[3]||l[3],k((()=>{const e=document.querySelector(l[1]),t=document.querySelector(l[0]),a=document.createElement("div");a.className="dialog-zoom",a.onmouseenter=()=>{a.onmousedown=a=>{const n=a.clientX,o=a.clientY,r=e.offsetWidth,i=e.offsetHeight,s=t.offsetWidth,u=t.offsetHeight;document.onmousemove=a=>{a.preventDefault();const c=r+2*(a.clientX-n),d=i+(a.clientY-o);if(e.style.width=`${c}px`,e.style.height=`${d}px`,l[2]){const e=u+(a.clientY-o);t.style.height=`${e}px`}if(l[3]){const e=s+2*(a.clientX-n);t.style.width=`${e}px`}},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}},t.appendChild(a)}))}})},Ds="0.2.1",ks=function(e){Object.keys(Ss).forEach((t=>{const l=Ss[t];e.component(l.name,l)})),(e=>{_s(e)})(e)};var js={version:Ds,install:ks};export{Si as NextContainer,ds as NextCrudTable,ms as NextCrudTableVirtualized,Xi as NextDialog,Cs as NextDragResize,rs as NextForm,bi as NextLayout,Zr as NextMenu,vs as NextSpinLoading,wi as NextTabs,kn as NextTextEllipsis,os as NextTreeSelect,bs as NextUpload,ws as NextVideoPlayer,on as buildLocaleContext,nn as buildTranslator,js as default,Se as defaultNamespace,ks as install,rn as localeContextKey,ln as localeLang,De as namespaceContextKey,fn as nextUseCssTheme,pn as nextUseCssVar,an as translate,hn as updateThemeColor,vn as updateThemeColorCssVar,yn as useDetectVideo,ke as useGetDerivedNamespace,un as useLanguage,sn as useLocale,je as useNamespace,Ds as version};
